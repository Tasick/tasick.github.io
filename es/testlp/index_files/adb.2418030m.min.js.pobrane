/*  AdBridg Connect v2.1.0, copyright AdBridg Inc. All rights reserved. d2b2aab:k1ibh0ql */
!function r(a,o,s){function d(i,e){if(!o[i]){if(!a[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(c)return c(i,!0);throw new Error("Cannot find module '"+i+"'")}var n=o[i]={exports:{}};a[i][0].call(n.exports,function(e){var t=a[i][1][e];return d(t||e)},n,n.exports,r,a,o,s)}return o[i].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)d(s[e]);return d}({1:[function(n,e,t){var r={},i={aliasRegistry:{},bidderRegistry:r,getBidAdapter:function(e){return r[e]},registerBidAdapter:function(e,t){var i=n("./shim.js").polyfills.utils;e&&t?"function"==typeof e.callBids?r[t]=e:i.logError("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):i.logError("bidAdaptor or bidderCode not specified")}};e.exports=i},{"./shim.js":20}],2:[function(e,t,i){var l=e("../utils.js"),p=e("../ajax.js");t.exports=function(s,e,t,r){var d={TAG:"iframe",TYPE:"iframe"},c={TAG:"img",TYPE:"image"},i={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"},a=function(){return r&&r.consentString&&r.gdprApplies},n=function(e){return"//"+(e.aol_server?e.aol_server:i[e.aol_region||"us"])+"/pubapi/3.0/"+e.network+"/"+e.bidder_unit_id+"/"+(e.pageid||0)+"/"+(e.sizeid||0)+"/ADTECH;v=2;cmd=bid;cors=yes;alias="+l.genUUID()+";misc="+(new Date).getTime()+(e.send_floor?";bidfloor="+e.min_cpm:"")+(a()?";euconsent="+r.consentString+";gdpr=1":"")},u=function(e){var t,i=e.aol_server?e.aol_server:"hb.nexage.com",n="";return l.https&&(n+="&secure=1"),a()&&(n+="&euconsent="+r.consentString+"&gdpr=1"),"//"+i+"/bidRequest?"+("dcn="+(t={dcn:e.dcn,pos:e.bidder_unit_id,dynamicParams:n}).dcn+"&pos="+t.pos+"&cmd=bid"+t.dynamicParams)};this.execute=function(i){i.eachBidRequest(s,function(a,o){var e,t={url:(e=o,e.api||(e.api="aol"),"onemobile"==e.api?u(e):n(e)),withCredentials:!0,max_ms:i.ajax_ms};p(t,function(e,t){if(e)return a.addEmptyBid(o),"timeout"!=e.type&&l.err("AOL call failed: ",e);if(!t)return a.addEmptyBid(o);try{t=JSON.parse(t)}catch(e){return a.addEmptyBid(o),l.err("AOL invalid JSON: ",e)}if(t.ext&&t.ext.pixels){var i=function(e){var n=/\w*(?=\s)/,r=/src=("|')(.*?)\1/,a=[];if(e){var t=e.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi);t&&t.forEach(function(e){var t=e.match(n)[0],i=e.match(r)[2];t&&t&&a.push({type:t===c.TAG?c.TYPE:d.TYPE,url:i})})}return a}(t.ext.pixels);l.each(i,function(e){e.type==c.TYPE?l.uspi(s,e.url):l.uspf(s,e.url)})}try{var n=t.seatbid[0].bid[0]}catch(e){return void a.addEmptyBid(o)}var r=n.adm;a.addBid(o,{creative:r,cpm:n.price,width:n.w,height:n.h,extras:{id:t.id,creativeid:n.crid}})})})}}},{"../ajax.js":9,"../utils.js":22}],3:[function(e,t,i){var o=e("../utils.js"),s=e("../ajax.js"),d=(e("../config.js").afterConsent,!1),c=function(e){if("string"==typeof e){var t=e.split("x");return{width:parseInt(t[0],10),height:parseInt(t[1],10)}}for(var i=[],n=0;n<e.length;++n)i.push(c(e[n]));return i};t.exports=function(n,e,t,r){this.execute=function(i){var a=[];if(i.eachBidRequest(n,function(e,t){var i,n,r={sizes:c(t.all_sizes),primary_size:c(t.size),ad_types:["banner"],uuid:t.id,id:parseInt(t.bidder_unit_id,10),allow_smaller_sizes:!1,use_pmt_rule:!1,prebid:!0,disable_psa:!0,keywords:(i=(t.params||{}).keywords||{},n=[],o.each(i,function(e,t){var i={key:t};Array.isArray(e)&&(i.value=e.map(function(e){return e+""})),null!=e&&(i.value=[e+""]),i.hasOwnProperty("value")&&n.push(i)}),n)};t.send_floor&&(r.reserve=t.min_cpm),t.position&&(r.position={above:1,below:2}[t.position]||0),a.push(r)}),!a.length)return o.log(n,"had no valid units for auction "+i.id),i.markBidderEmpty(n);var e={tags:a,user:void 0,sdk:{source:"pbjs",version:"1.12.0"}};r&&(e.gdpr_consent={consent_string:r.consentString,consent_required:r.gdprApplies});var t={url:"//ib.adnxs.com/ut/v3/prebid",method:"POST",withCredentials:!0,data:JSON.stringify(e),max_ms:i.ajax_ms};s(t,o.wrapAsync(function(e,t){if(e)return i.markBidderEmpty(n),"timeout"!=e.type&&o.err("AppNexusAST had error: ",e);if(t)try{t=JSON.parse(t)}catch(e){o.err("AppNexusAST JSON fail"),t=!1}if(!t)return i.markBidderEmpty(n);o.each(t.tags,o.wrapAsync(function(n){var r=i.getBidRequest(n.uuid);if(!r)return o.err("AppNexusAst bad id: ",n.uuid);n.ads&&n.ads.length&&o.each(n.ads,function(e){if(e.cpm&&e.rtb&&e.rtb.banner){var t=e.rtb.banner.content;try{var i=e.rtb.trackers[0].impression_urls[0];t+=o.pixelh(i)}catch(e){o.err("AppNexusAst tk failed: ",e)}r.unit.addBid(r,{creative:t,cpm:e.cpm,width:e.rtb.banner.width,height:e.rtb.banner.height,extras:{bmid:e.buyer_member_id,crid:e.creative_id,bauid:n.auction_id,bapid:n.ad_profile_id}})}})})),d||(d=!0,o.uspf(n,"//acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html")),i.markBidderEmpty(n)}))}}},{"../ajax.js":9,"../config.js":13,"../utils.js":22}],4:[function(e,t,i){"use strict";var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_=(C=e("../shim.js").polyfills).utils,s=C.BANNER,d=C.VIDEO,n=C.find,v=C.config,r=C.isArray,a=C.isInteger,b=(C.registerBidder,"https://as-sec.casalemedia.com/cygnus"),y="http://as.casalemedia.com/cygnus",c=7.2,u=8.1,o=100,l=35,p=3600,f=!0,g={JPY:1};function m(e){var t=x(e),i=e.params.size.split("x");return t.banner={},t.banner.w=parseInt(i[0],10),t.banner.h=parseInt(i[1],10),t.banner.topframe=_.inIframe()?0:1,t}function w(e){var t=x(e),i=e.params.size.split("x");t.video=_.deepClone(e.params.video),t.video.w=parseInt(i[0],10),t.video.h=parseInt(i[1],10);var n=_.deepAccess(e,"mediaTypes.video.context");return n&&("instream"===n?t.video.placement=1:"outstream"===n?t.video.placement=4:_.logWarn("ix bidder params: video context '"+n+"' is not supported")),t}function x(e){var t={};return t.id=e.bidId,t.ext={},t.ext.siteID=parseInt(e.params.siteId,10),!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id?t.ext.sid=e.params.size.split("x"):t.ext.sid=String(e.params.id),e.params.hasOwnProperty("bidFloor")&&(t.bidfloor=e.params.bidFloor,t.bidfloorcur=e.params.bidFloorCur||"USD"),t}function D(e,t,i){var n={};return g.hasOwnProperty(t)?n.cpm=e.price/g[t]:n.cpm=e.price/o,n.requestId=e.impid,n.dealId=_.deepAccess(e,"ext.dealid"),n.netRevenue=f,n.currency=t,n.creativeId=e.hasOwnProperty("crid")?e.crid:"-",_.deepAccess(e,"ext.vasturl")?(n.vastUrl=e.ext.vasturl,n.width=i.video.w,n.height=i.video.h,n.mediaType=d,n.ttl=p):(n.ad=e.adm,n.width=e.w,n.height=e.h,n.mediaType=s,n.ttl=l),n.meta={},n.meta.networkId=_.deepAccess(e,"ext.dspid"),n.meta.brandId=_.deepAccess(e,"ext.advbrandid"),n.meta.brandName=_.deepAccess(e,"ext.advbrand"),n}function z(e){return r(e)&&2===e.length&&a(e[0])&&a(e[1])}function A(e,t){if(z(e))return e[0]===t[0]&&e[1]===t[1];for(var i=0;i<e.length;i++)if(e[i][0]===t[0]&&e[i][1]===t[1])return!0;return!1}function S(e,t){var i=/^[A-Z]{3}$/;return Boolean("number"==typeof e&&"string"==typeof t&&t.match(i))}function B(t,e){if(t)return n(e,function(e){return e.id===t})}function T(e,t,i,n){var r=[],a=b;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var o=window.headertag.getIdentityInfo();if(o&&"object"===(void 0===o?"undefined":h(o)))for(var s in o)if(o.hasOwnProperty(s)){var d=o[s];!d.responsePending&&d.data&&"object"===h(d.data)&&Object.keys(d.data).length&&r.push(d.data)}}var c={};if(c.id=e[0].bidderRequestId,c.imp=i,c.site={},c.ext={},c.ext.source="prebid",0<r.length&&(c.user={},c.user.eids=r),document.referrer&&""!==document.referrer&&(c.site.ref=document.referrer),t){if(t.gdprConsent){var u=t.gdprConsent;u.hasOwnProperty("gdprApplies")&&(c.regs={ext:{gdpr:u.gdprApplies?1:0}}),u.hasOwnProperty("consentString")&&(c.user=c.user||{},c.user.ext={consent:u.consentString||""})}c.site.page=_.getTopWindowUrl(),0!==c.site.page.indexOf("https")&&(a=y)}var l={},p=v.getConfig("ix");if(p){if("object"===h(p.firstPartyData)){var f=p.firstPartyData,g="?";for(var m in f)f.hasOwnProperty(m)&&(g+=encodeURIComponent(m)+"="+encodeURIComponent(f[m])+"&");g=g.slice(0,-1),c.site.page+=g}"number"==typeof p.timeout&&(l.t=p.timeout)}return l.s=e[0].params.siteId,l.v=n,l.r=JSON.stringify(c),l.ac="j",l.sd=1,l.nf=1,{method:"GET",url:a,data:l}}var k={code:"ix",supportedMediaTypes:j=[s,d],isBidRequestValid:function(e){if(!z(e.params.size.split("x")))return _.logError("ix bidder params: bid size has invalid format."),!1;if(!A(e.sizes,e.params.size.split("x")))return _.logError("ix bidder params: bid size is not included in ad unit sizes."),!1;if(e.hasOwnProperty("mediaType")&&!_.contains(j,e.mediaType))return!1;if(e.hasOwnProperty("mediaTypes")&&!_.deepAccess(e,"mediaTypes.banner.sizes")&&!_.deepAccess(e,"mediaTypes.video.playerSize"))return!1;if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return _.logError("ix bidder params: siteId must be string or number value."),!1;var t=e.params.hasOwnProperty("bidFloor"),i=e.params.hasOwnProperty("bidFloorCur");return!!(!t&&!i||t&&i&&S(e.params.bidFloor,e.params.bidFloorCur))||(_.logError("ix bidder params: bidFloor / bidFloorCur parameter has invalid format."),!1)},buildRequests:function(e,t){for(var i=[],n=[],r=[],a=null,o=0;o<e.length;o++)((a=e[o]).mediaType===d||_.deepAccess(a,"mediaTypes.video"))&&(a.mediaType===d||A(a.mediaTypes.video.playerSize,a.params.size.split("x").map(Number))?r.push(w(a)):_.logError("Bid size is not included in video playerSize")),(a.mediaType===s||_.deepAccess(a,"mediaTypes.banner")||!a.mediaType&&!a.mediaTypes)&&n.push(m(a));return 0<n.length&&i.push(T(e,t,n,c)),0<r.length&&i.push(T(e,t,r,u)),i},interpretResponse:function(e,t){var i=[],n=null;if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return i;for(var r=e.body,a=r.seatbid,o=0;o<a.length;o++)if(a[o].hasOwnProperty("bid"))for(var s=a[o].bid,d=JSON.parse(t.data.r),c=0;c<s.length;c++){var u=B(s[c].impid,d.imp);n=D(s[c],r.cur,u),i.push(n)}return i},transformBidParams:function(e,t){return _.convertTypes({siteID:"number"},e)}};t.exports=e("../shim.js").wrap({spec:k,unitIDKey:"siteId"});var C,j;h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_=(C=e("../shim.js").polyfills).utils,s=C.BANNER,d=C.VIDEO,n=C.find,v=C.config,r=C.isArray,a=C.isInteger,C.registerBidder,b="https://as-sec.casalemedia.com/cygnus",y="http://as.casalemedia.com/cygnus",c=7.2,u=8.1,o=100,l=35,p=3600,f=!0,g={JPY:1};function m(e){var t=x(e),i=e.params.size.split("x");return t.banner={},t.banner.w=parseInt(i[0],10),t.banner.h=parseInt(i[1],10),t.banner.topframe=_.inIframe()?0:1,t}function w(e){var t=x(e),i=e.params.size.split("x");t.video=_.deepClone(e.params.video),t.video.w=parseInt(i[0],10),t.video.h=parseInt(i[1],10);var n=_.deepAccess(e,"mediaTypes.video.context");return n&&("instream"===n?t.video.placement=1:"outstream"===n?t.video.placement=4:_.logWarn("ix bidder params: video context '"+n+"' is not supported")),t}function x(e){var t={};return t.id=e.bidId,t.ext={},t.ext.siteID=parseInt(e.params.siteId,10),!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id?t.ext.sid=e.params.size.split("x"):t.ext.sid=String(e.params.id),e.params.hasOwnProperty("bidFloor")&&(t.bidfloor=e.params.bidFloor,t.bidfloorcur=e.params.bidFloorCur||"USD"),t}function D(e,t,i){var n={};return g.hasOwnProperty(t)?n.cpm=e.price/g[t]:n.cpm=e.price/o,n.requestId=e.impid,n.dealId=_.deepAccess(e,"ext.dealid"),n.netRevenue=f,n.currency=t,n.creativeId=e.hasOwnProperty("crid")?e.crid:"-",_.deepAccess(e,"ext.vasturl")?(n.vastUrl=e.ext.vasturl,n.width=i.video.w,n.height=i.video.h,n.mediaType=d,n.ttl=p):(n.ad=e.adm,n.width=e.w,n.height=e.h,n.mediaType=s,n.ttl=l),n.meta={},n.meta.networkId=_.deepAccess(e,"ext.dspid"),n.meta.brandId=_.deepAccess(e,"ext.advbrandid"),n.meta.brandName=_.deepAccess(e,"ext.advbrand"),n}function z(e){return r(e)&&2===e.length&&a(e[0])&&a(e[1])}function A(e,t){if(z(e))return e[0]===t[0]&&e[1]===t[1];for(var i=0;i<e.length;i++)if(e[i][0]===t[0]&&e[i][1]===t[1])return!0;return!1}function S(e,t){return Boolean("number"==typeof e&&"string"==typeof t&&t.match(/^[A-Z]{3}$/))}function B(t,e){if(t)return n(e,function(e){return e.id===t})}function T(e,t,i,n){var r=[],a=b;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var o=window.headertag.getIdentityInfo();if(o&&"object"===(void 0===o?"undefined":h(o)))for(var s in o)if(o.hasOwnProperty(s)){var d=o[s];!d.responsePending&&d.data&&"object"===h(d.data)&&Object.keys(d.data).length&&r.push(d.data)}}var c={};if(c.id=e[0].bidderRequestId,c.imp=i,c.site={},c.ext={},c.ext.source="prebid",0<r.length&&(c.user={},c.user.eids=r),document.referrer&&""!==document.referrer&&(c.site.ref=document.referrer),t){if(t.gdprConsent){var u=t.gdprConsent;u.hasOwnProperty("gdprApplies")&&(c.regs={ext:{gdpr:u.gdprApplies?1:0}}),u.hasOwnProperty("consentString")&&(c.user=c.user||{},c.user.ext={consent:u.consentString||""})}c.site.page=_.getTopWindowUrl(),0!==c.site.page.indexOf("https")&&(a=y)}var l={},p=v.getConfig("ix");if(p){if("object"===h(p.firstPartyData)){var f=p.firstPartyData,g="?";for(var m in f)f.hasOwnProperty(m)&&(g+=encodeURIComponent(m)+"="+encodeURIComponent(f[m])+"&");g=g.slice(0,-1),c.site.page+=g}"number"==typeof p.timeout&&(l.t=p.timeout)}return l.s=e[0].params.siteId,l.v=n,l.r=JSON.stringify(c),l.ac="j",l.sd=1,l.nf=1,{method:"GET",url:a,data:l}}k={code:"ix",supportedMediaTypes:j=[s,d],isBidRequestValid:function(e){if(!z(e.params.size.split("x")))return _.logError("ix bidder params: bid size has invalid format."),!1;if(!A(e.sizes,e.params.size.split("x")))return _.logError("ix bidder params: bid size is not included in ad unit sizes."),!1;if(e.hasOwnProperty("mediaType")&&!_.contains(j,e.mediaType))return!1;if(e.hasOwnProperty("mediaTypes")&&!_.deepAccess(e,"mediaTypes.banner.sizes")&&!_.deepAccess(e,"mediaTypes.video.playerSize"))return!1;if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return _.logError("ix bidder params: siteId must be string or number value."),!1;var t=e.params.hasOwnProperty("bidFloor"),i=e.params.hasOwnProperty("bidFloorCur");return!!(!t&&!i||t&&i&&S(e.params.bidFloor,e.params.bidFloorCur))||(_.logError("ix bidder params: bidFloor / bidFloorCur parameter has invalid format."),!1)},buildRequests:function(e,t){for(var i=[],n=[],r=[],a=null,o=0;o<e.length;o++)((a=e[o]).mediaType===d||_.deepAccess(a,"mediaTypes.video"))&&(a.mediaType===d||A(a.mediaTypes.video.playerSize,a.params.size.split("x").map(Number))?r.push(w(a)):_.logError("Bid size is not included in video playerSize")),(a.mediaType===s||_.deepAccess(a,"mediaTypes.banner")||!a.mediaType&&!a.mediaTypes)&&n.push(m(a));return 0<n.length&&i.push(T(e,t,n,c)),0<r.length&&i.push(T(e,t,r,u)),i},interpretResponse:function(e,t){var i=[],n=null;if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return i;for(var r=e.body,a=r.seatbid,o=0;o<a.length;o++)if(a[o].hasOwnProperty("bid"))for(var s=a[o].bid,d=JSON.parse(t.data.r),c=0;c<s.length;c++){var u=B(s[c].impid,d.imp);n=D(s[c],r.cur,u),i.push(n)}return i},transformBidParams:function(e,t){return _.convertTypes({siteID:"number"},e)}};t.exports=e("../shim.js").wrap({spec:k,unitIDKey:"siteId"})},{"../shim.js":20}],5:[function(e,t,i){var u=e("../utils.js"),l=e("../ajax.js");t.exports=function(r,e,a,o){var s=!0,n=!1;function c(e,t){var i=u.url(),n=!i.is_top,r={ju:encodeURIComponent(i.href),jr:encodeURIComponent(i.referrer),ch:document.charSet||document.characterSet,res:screen.width+"x"+screen.height+"x"+screen.colorDepth,ifr:n,tz:(new Date).getTimezoneOffset(),tws:function(e){var t=u.vp();if(window,document,e)try{window.top,window.top.document}catch(e){return}return t.w+"x"+t.h}(n),be:1,dddid:e.map(function(e){return e.transactionID}).join(","),nocache:(new Date).getTime()};return o&&(r.gdpr=o.gdprApplies?1:0,o.consentString&&(r.gdpr_consent=o.consentString)),r}function t(e,t){var i=[],n=!1,r=c(e),a=e.map(function(e){return e.params.unit}),o=e.map(function(e){return e.params.placementId});r.aus=e.map(function(e){return e.sizes.map(function(e){return e.join("x")}).join(",")}).join("|"),r.bc=e[0].params.bc||"hb_pb",r.divs=e.map(function(e){return e.adUnitCode||e.adbAlias}).join(","),a.some(function(e){return e})&&(r.auid=a.join(",")),o.some(function(e){return e})&&(r.pids=o.join(",")),e.forEach(function(a){if(a.params.customParams){var e=u.each(a.params.customParams,function(e,t){return i=t,n=a.params.customParams,r=n[i],u.isarr(r)&&(r=r.join(",")),(i.toLowerCase()+"="+r.toLowerCase()).replace("+",".").replace("/","_");var i,n,r}),t=window.btoa(e.join("&"));n=!0,i.push(t)}else i.push("")}),n&&(r.tps=i.join(","));var s=[],d=!1;return e.forEach(function(e){e.params.customFloor?(s.push(1e3*e.params.customFloor),d=!0):s.push(0)}),d&&(r.aumfs=s.join(",")),{method:"GET",url:"//"+e[0].params.delDomain+"/w/1.0/arj"+"?"+u.toqs(r)+"&",withCredentials:!0,parseResponseJson:!0}}function d(o){return u.wrapAsync(function(e,t){if(e)return o.markBidderEmpty(r),"timeout"!=e.type&&u.err("OpenX bid request failed: ",e);if(!t.ads)return u.err("OpenX response malformed");var i=t.ads.pixels;i&&n!=i&&(n=i,u.uspf(r,i)),o.eachBidRequest(r,function(i,n){var r,a;u.each(t.ads.ad,function(e){if(!e.used&&!a&&e.adunitid==n.bidder_unit_id&&e.pub_rev&&e.creative&&e.creative[0]){var t=e.creative[0].width+"x"+e.creative[0].height;-1!=n.all_sizes.indexOf(t)&&(r={creative:(a=e).html,cpm:Number(e.pub_rev)/1e3,width:e.creative[0].width,height:e.creative[0].height,extras:{dealid:e.deal_id,crid:e.adid,adv_id:e.adv_id,brand_id:e.brand_id}},i.addBid(n,r))}}),r?s&&(s=!1,function(e,t){try{var i=e.tracking.impression.match(/([^?]+\/)ri\?/);i&&u.pixel(i[1]+"bo?"+u.toqs(t))}catch(e){u.err("OpenX BoPixel",e)}}(a.creative[0],{bd:+new Date-new Date(o.jsts),br:r.viable?"p":"t",bt:o.max_ms,bs:window.location.hostname,bp:a.pub_rev,ts:a.ts})):i.addEmptyBid(n)})})}this.execute=function(i){var n=[];if(i.eachBidRequest(r,function(e,t){n.push({adUnitCode:e.get("dom_id"),adbAlias:e.alias,auctionId:i.id,bidId:e.unique_id,bidder:t.bidder_name,bidderRequestId:t.id,crumbs:{pubcid:e.get("mod_pubcid")},mediaTypes:{banner:{sizes:e.all_sizes.map(function(e){return e.split("x").map(Number)})}},params:{unit:t.bidder_unit_id,delDomain:a.delDomain},sizes:e.all_sizes.map(function(e){return e.split("x").map(Number)}),transactionID:u.genUUID()})}),0!==n.length){i.id,i.jsts,n[0].bidderRequestId;var e=t(n.reduce(function(e,t){var i;return(i=t)&&i.mediaTypes&&i.mediaTypes.video||"video"===i.mediaType?e[0].push(t):e[1].push(t),e},[[],[]])[1]);e.max_ms=i.ajax_ms,l(e,d(i))}}}},{"../ajax.js":9,"../utils.js":22}],6:[function(e,t,i){var p=e("../utils.js"),f=e("../ajax.js"),g={1:"468x60",2:"728x90",8:"120x600",9:"160x600",10:"300x600",14:"250x250",15:"300x250",16:"336x280",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",43:"320x50",44:"300x50",48:"300x300",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",65:"640x480",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",94:"970x310",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",113:"1000x300",117:"320x100",125:"800x250",126:"200x600"};p.each(g,function(e,t){g[e]=t});var m=!1;t.exports=function(s,e,a,u){var d=new RegExp("^([^;]*)(;\\1)+$");a.group_limit=a.group_limit||10;var c=function(e){var t,i,r,n,a,o=(i=e.all_sizes,r=[15,2,9],n=[],p.each(i,function(e){var t=parseInt(g[e],10);t&&n.push(t)}),n=n.sort(function(e,t){var i=r.indexOf(e),n=r.indexOf(t);return-1<i||-1<n?-1===i?1:-1===n?-1:i-n:e-t}));1<o.length&&(a=o.slice(1).join(","));var s,d,c={account_id:e.account,site_id:e.site,zone_id:e.bidder_unit_id,size_id:o[0],alt_size_ids:a,p_pos:e.position||"btf",rp_floor:e.min_cpm||.01,rp_secure:p.https?1:0,tk_flint:"pbjs_lite_1.15.0","x_source.tid":e.id,p_screen_res:[window.screen.width,window.screen.height].join("x"),kw:e.keywords||"",tk_user_key:e.userid,"p_geo.latitude":t,"p_geo.longitude":t,"tg_fl.eid":t,rf:p.url().href};return u&&(c.gdpr=u.gdprApplies?1:0,c.gdpr_consent=u.consentString),e.visitor&&p.each(e.visitor,function(e,t){c["tg_v."+t]=String(e)}),e.inventory&&p.each(e.inventory,function(e,t){c["tg_i."+t]=String(e)}),p.each(!(d=(s=window.DigiTrust&&window.DigiTrust.getUser({member:"T9QSFKPDN9"}))&&s.success&&s.identity||null)||d.privacy&&d.privacy.optout?[]:{"dt.id":d.id,"dt.keyv":d.keyv,"dt.pref":0},function(e,t){c[t]=e}),c},l=function(e){p.each(e,function(e){e.unit.addEmptyBid(e)})};this.execute=function(i){var e,n,r={};i.eachBidRequest(s,function(e,t){(r[t.site]=r[t.site]||[]).push(t)}),e=r,n=function(o){var t=[];p.each(o,function(e){t.push(c(e))});var e={url:function(n,e){var i=[],r=[];p.each(n,function(e,t){"tg_i."==t.substr(0,5)&&-1==r.indexOf(t)&&r.push(t),"tg_v."==t.substr(0,5)&&-1==i.indexOf(t)&&i.push(t)});var t=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","rf","dt.id","dt.keyv","dt.pref","p_geo.latitude","p_geo.longitude","kw"].concat(i).concat(r).concat(["tk_flint","x_source.tid","p_screen_res","rp_floor","rp_secure","tk_user_key"]),a="";return p.each(t,function(e){var t=n[e],i=typeof t;("number"==i||"string"==i&&""!=t)&&(a+=e+"="+encodeURIComponent(t)+"&")}),"//fastlane.rubiconproject.com/a/api/fastlane.json?"+a+"slots="+e+"&rand="+Math.random()}(function(n){if(1===n.length)return n[0];var r={};return p.each(n,function(e,i){p.each(e,function(e,t){r[t]||(r[t]=new Array(n.length)),r[t].splice(i,1,e)})}),p.each(r,function(e,t){var i=e.join(";"),n=i.match(d);r[t]=n?n[1]:i}),r}(t),t.length),withCredentials:!0,max_ms:i.ajax_ms};f(e,p.wrapAsync(function(e,t){if(e)return l(o),"timeout"!=e.type&&p.err("Rubicon bid request failed: ",e);if(!t)return l(o);try{var i=JSON.parse(t)}catch(e){return l(o),p.err("Rubicon response unparseable: ",e)}if(!i||"object"!=typeof i||"ok"!=i.status)return i&&i.error_code&&10!=i.error_code&&43!=i.error_code&&(n=o,r=i.error_code,p.each(n,function(e){e.unit.setImpData("rubicon_error_code","r"+r,!0)})),void l(o);var n,r;if(!i.ads||!i.ads.length)return l(o),p.err("Rubicon response ads invalid: ",i.ads);if(p.each(i.ads,function(e,t){if("ok"===e.status){var i,n,r=g[e.size_id].split("x"),a=o[t];a.unit.addBid(a,{creative:(i=e.script,n=e.impression_id,"<html><head><script type='text/javascript'>inDapIF=true;<\/script></head><body style='margin: 0; padding: 0;'>\x3c!-- Rubicon Project Ad Tag --\x3e<div data-rp-impression-id='"+n+"'><script type='text/javascript'>"+i+"<\/script></div></body></html>"),cpm:e.cpm,width:Number(r[0]),height:Number(r[1]),extras:{creativeid:e.creative_id,advertiserid:e.advertiser,networkid:e.network,dealid:e.deal}})}}),l(o),!m){m=!0;var a="";u&&(a+="?gdpr="+(u.gdprApplies?1:0)+"&gdpr_consent="+u.consentString),p.uspf(s,"https://eus.rubiconproject.com/usync.html"+a)}}))},p.each(e,function(e,t){for(;e.length;)n(e.splice(0,a.group_limit))})}}},{"../ajax.js":9,"../utils.js":22}],7:[function(e,t,i){var o=e("../utils.js");t.exports=function(t,e,i,n){var r=function(){var t=0;try{new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(t=1)}catch(e){navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=1)}return t}(),a=0;this.execute=function(e){if(i.check_gdpr&&(!n||n.gdprApplies))return e.markBidderEmpty(t),o.log("Triplelift canncelled pending GDPR");e.eachBidRequest(t,function(t,i){var e="tlCallback"+ ++a,n=document.location.protocol+"//tlx.3lift.com/header/auction?callback=window.AdBridg."+e+"&lib=adbridg&v=2&callback_id="+i.id+"&inv_code="+i.bidder_unit_id+o.qsappend("floor",i.min_cpm,!0,!0)+o.qsappend("fe",r,!0,!0)+"&size="+i.all_sizes.join(",")+o.qsappend("referrer",o.url().href,!0,!0);window.AdBridg[e]=o.wrapAsync(function(e){return e&&e.callback_id==i.id?e.cpm?void t.addBid(i,{creative:e.ad,cpm:e.cpm,width:e.width,height:e.height,extras:{dealid:e.deal_id}}):t.addEmptyBid(i):o.err("Triplelift had bad response: ",e)}),o.load(n)})}}},{"../utils.js":22}],8:[function(e,t,i){var o=e("../utils.js");t.exports=function(t,e,i,n){var r=function(){var t=0;try{new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(t=1)}catch(e){navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=1)}return t}(),a=0;this.execute=function(e){if(i.check_gdpr&&(!n||n.gdprApplies))return e.markBidderEmpty(t),o.log("Triplelift canncelled pending GDPR");e.eachBidRequest(t,function(t,i){var e="tl_directCallback"+ ++a,n=document.location.protocol+"//tlx.3lift.com/header/auction?callback=window.AdBridg."+e+"&lib=adbridg&v=2&callback_id="+i.id+"&inv_code="+i.bidder_unit_id+o.qsappend("floor",i.min_cpm,!0,!0)+o.qsappend("fe",r,!0,!0)+"&size="+i.all_sizes.join(",")+o.qsappend("referrer",o.url().href,!0,!0);window.AdBridg[e]=o.wrapAsync(function(e){return e&&e.callback_id==i.id?e.cpm?void t.addBid(i,{creative:e.ad,cpm:e.cpm,width:e.width,height:e.height,extras:{dealid:e.deal_id}}):t.addEmptyBid(i):o.err("Triplelift had bad response: ",e)}),o.load(n)})}}},{"../utils.js":22}],9:[function(e,t,i){var a=e("./utils.js");t.exports=a.wrapAsync(function(i,n){var r,e=!1,t=i.method||(i.data?"POST":"GET");window.XMLHttpRequest?(r=new window.XMLHttpRequest).onreadystatechange=a.wrapAsync(function(){if(4===r.readyState){var e=r.status;if(200<=e&&e<300||304===e)if(i.parseResponseJson)try{var t=JSON.parse(r.responseText||"null");n(null,t,r)}catch(e){n({err:e,type:"parse"},"",r)}else n(null,r.responseText,r);else n(0===e?{err:"",type:"timeout"}:{err:r.statusText,type:"status="+e},"",r)}}):(e=!0,(r=new window.XDomainRequest).onload=i.parseResponseJson?a.wrapAsync(function(){try{var e=JSON.parse(r.responseText||"null");n(null,e,r)}catch(e){n({err:e,type:"parse"},"",r)}}):a.wrapAsync(function(){n(null,r.responseText,r)}),r.onerror=a.wrapAsync(function(e){n({err:e,type:"error"},"",r)}),r.ontimeout=a.wrapAsync(function(e){n({err:e,type:"timeout"},"",r)}),r.onprogress=function(){}),r.open(t,i.url),0!==i.max_ms&&(r.timeout=i.max_ms||3e3,a.logl("at","Ajax >",i.url,r.timeout)),e||(i.withCredentials&&(r.withCredentials=!0),a.each(i.headers,function(e,t){r.setRequestHeader(t,e)}),i.preflight&&r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type",i.contentType||"text/plain")),r.send("POST"===t&&i.data)})},{"./utils.js":22}],10:[function(e,t,s){var d=e("./utils.js"),c=e("./config.js"),i=function(){for(var e="",t=0;t<10;++t)e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return e},n=i(),r="aX0";s.id=[2,r,n].join(","),c.afterConsent(function(e){e&&e.gdprApplies||((r=String((document.cookie.match(/_adb=([^;]+)/)||[""]).pop()))||(r="a2"+(new Date).getTime().toString(36)+i()),d.cw("_adb",r,365),s.id=[2,r,n].join(","))});var u={},a={},o={},l=function(e,t,i,n){u[e]||(u[e]=[]),u[e].push(n),a[e]=i,o[e]||(o[e]=setTimeout(function(){p(e)},t))},p=function(e){if(clearTimeout(o[e]),o[e]=!1,u[e]&&u[e].length){var t=a[e],i=3===e?"1//"+u[e].length+t:"";i+=u[e].join(t),u[e]=[],f(e,1,i)}};s.flushNow=function(){for(var e in u)p(e)};var f=function(e,t,i){var n=s.id,r=function(){if(!u[3]||!u[3].length)return"";var e=u[3].join("&e=");return u[3]=[],e}(),a=d.vp(),o="//adspsp.com/pt/"+c.getId()+"/"+e+"/"+t+"/?a="+n+"&b="+i+"&e="+r+"&c="+encodeURIComponent(d.url().href)+"&d="+encodeURIComponent(d.url().referrer)+"&f="+d.pgts().join(".")+"&g="+d.perfts()+"&u=d2b2aab:k1ibh0ql&v="+g(a.w)+"."+g(a.h)+"."+g(a.y);for(o=c.deca(o),d.each(v,function(e,t){d.isarr(e)||(e=[e]),d.each(e,function(e){o+="&"+t+"="+encodeURIComponent(e)})});b.length;)delete v[b.pop()];d.each(y,function(e,t){o+="&"+t+"="+encodeURIComponent(e)}),y={},d.pixel(o)},g=function(e){return(parseInt(e,10)||0).toString(36)},m=function(e,t){return g(e)+"`"+g(t)},h=function(e){var i=[];return d.each(e,function(e){var t=e.split("x");2==t.length&&i.push(m(t[0],t[1]))}),i.join(".")},_=function(e){return String(e).replace(/[^\d\w-]/,"")},v={};s.meta=d.thread(function(e,t){v[e]=t});var b=[];s.metaqx=d.thread(function(e,t){-1==b.indexOf(e)&&b.push(e),v[e]?d.isarr(v[e])||(v[e]=[v[e]]):v[e]=[],v[e].push(t)});var y={};s.ctr=d.thread(function(e,t){void 0===t&&(t=1),t&&(y[e]=(y[e]||0)+t)}),s.auctionConfigured=d.thread(function(e){var i=[];e.eachUnit(function(e){var n=[],t=h(e.all_sizes);e.eachBidReqConf(function(e){var t=e.bidder_id+"@"+_(e.bidder_unit_id),i=h(e.all_sizes);n.push(t+"^"+i)}),i.push(e.id+"^"+t+":"+n.join(","))});var t=e.instancectr+"//"+i.length+"-"+i.join("_");e.eachUnit(function(e){t+="&bu="+e.unique_id}),f(1,1,t)});var w=function(e){var t=[Math.round(e.ms)];return(e.cpm||e._bid_cpm)&&(t.push(e.cpm),t.push(e.width),t.push(e.height),e._bid_cpm!=e.cpm&&(t.push(e._bid_cpm),t.push(e._min_cpm),t.push(e.blocked?e.blocked:0))),t.join(",")};s.auctionCompleted=d.thread(function(r){var a=[],n=[];r.eachBidRequest(function(i,e){var t=[r.instancectr,i.id,e.bidder_id,_(e.bidder_unit_id)].join(","),n=[];d.each(e.responses,function(e){var t=i.getWinner()===e?1:0;n.push(t+","+w(e))}),a.push(t+":"+n.join(":"))}),r.eachUnit(function(e){var t=e.getWinner();if(t){var i=JSON.stringify(t.extras);i="{}"==i?"":encodeURIComponent(i),n.push([r.instancectr,e.id,t.config.bidder_id].join(",")+":"+e.unique_id+":"+i)}});var e=a.join("&b=");n.length&&(e+="&bw="+n.join("&bw=")),f(11,1,e)}),s.bidRendered=d.thread(function(e){var t=[e.config.unit.auction.instancectr,e.config.unit.id];t.push(e.config.bidder_id),t.push(e.config.bidder_unit_id),t.push(e.cpm),t.push(e.width),t.push(e.height),t.push(e.config.unit.unique_id);var i=JSON.stringify(e.extras);"{}"!=i&&t.push(encodeURIComponent(i));var n="1:"+t.join(",");c.libSettings().record_bidids&&(n+="&b=4:"+[e.config.unit.unique_id,e.config.unit.id,e.id].join(","));l(12,100,"&b=",n)}),s.enhRendered=d.thread(function(e,t){l(12,100,"&b=","3:"+[e,t].join(","))}),s.gptRendered=d.thread(function(e,t,i){l(12,100,"&b=","2:"+[e.instancectr,t.id,g(i.advertiserId),g(i.campaignId),g(i.creativeId),i.isEmpty||"",g(i.lineItemId),i.size?m(i.size[0],i.size[1]):"",g(i.sourceAgnosticCreativeId),g(i.sourceAgnosticLineItemId),t.unique_id].join(","))}),s.gptViewed=d.thread(function(e,t,i){l(15,100,"&b=","1:"+[e.instancectr,t.id,t.unique_id].join(","))}),s.gprog=d.thread(function(e){l(16,100,"&b=","1:"+JSON.stringify(e))}),s.lateBid=d.thread(function(e){var t=[e.config.unit.auction.instancectr,e.config.unit.id,e.config.bidder_id,e.config.bidder_unit_id].join(",");l(13,500,"&b=",t+":"+w(e))}),d.onerr(function(){try{var t="";d.each(arguments,function(e){void 0!==e&&("object"==typeof e?e=e.stack?(e.message||"")+" "+e.stack:JSON.stringify(e):"string"!=typeof e&&"number"!=typeof e&&(e=e.toString?e.toString():String(e)),t+=" "+e)}),t=t.substr(0,300)+(300<t.length?"...":""),t="500.1:"+d.perfts()+":"+t,l(3,1e3,"&e=",t)}catch(e){d.isdebug()&&console.error("AdBridg error report failed: ",e)}}),s.rec=d.thread(function(e){l(17,500,"&b=",e)}),d.onrec(s.rec)},{"./config.js":13,"./utils.js":22}],11:[function(e,t,i){var f=e("./utils"),g=(e("./unit"),e("./analytics")),m=e("./modules"),h=e("./config"),n=0;t.exports=function(){this.instancectr=++n,this.id=f.genID("A"),this.ts=0,this.jsts=0,this.max_ms,this.ajax_ms=h.libSettings().ajax_ms,"function"==typeof this.ajax_ms&&(this.ajax_ms=this.ajax_ms());var a=this,o={},s=[],d=[],c=[],u=!1,l=[],p=!1;this.addUnit=function(e){return d.push(e),c.push(e.alias),e.auction=a,e.eachBidder(function(e,t){o[e]||(o[e]=t,.5<Math.random()?s.push(e):s.unshift(e))}),a.max_ms=a.max_ms?Math.min(a.max_ms,e.max_ms):e.max_ms,(!a.ajax_ms||a.ajax_ms<a.max_ms)&&(a.ajax_ms=a.max_ms+200),a},this.hasUnit=function(){return 0<d.length},this.eachUnit=function(e){f.each(d,e)},this.findUnit=function(e){for(var t=0;t<d.length;++t){if(e(d[t]))return d[t]}return!1},this.eachBidRequest=function(e,i){"function"==typeof e&&(i=e,e=!1),this.eachUnit(function(t){t.eachBidReqConf(e,function(e){i(t,e)})})},this.getUnitByBidReqId=function(t){var i=!1;return a.eachUnit(function(e){e.getBidReqConf(t)&&(i=e)}),i},this.getBidRequest=function(t){var i=!1;return a.eachUnit(function(e){i||(i=e.getBidReqConf(t))}),i},this.markBidEmpty=function(e){var t=a.getUnitByBidReqId(e);t?t.addEmptyBid(e):f.err("Cannot mark bid empty: unknown id",e)},this.markBidderEmpty=function(t){a.eachUnit(function(e){e.markEmpty(t)})},this.isDone=function(){return u},this.lock=function(e){-1==l.indexOf(e)&&(f.log("Auction ",a.id," locked: ",e),l.push(e))},this.unlock=f.wrapAsync(function(e){var t=l.indexOf(e);-1!=t?(l.splice(t,1),f.log("Auction ",a.id," unlocked: ",e,l),!l.length&&p&&p()):f.log("Auction ",a.id," lock not found: ",e)}),this.execute=function(e){a.ts=f.dts(),a.jsts=(new Date).getTime();var t=h.libSettings().fbo;"function"==typeof t&&(s=t(o)),f.log("Auction",a.id,"starting with",d.length,"units:",c,"/ bidders:",s,"/ timeout:",a.max_ms),g.auctionConfigured(a),m.trigger("auction.start",a);var i=f.wrapAsync(function(){u||(u=!0,a.eachUnit(function(e){e.halt()}),g.auctionCompleted(a),m.trigger("auction.complete",a),e(a))}),n=f.wrapAsync(function(){if(l.length)return f.log("Auction ",a.id,"waiting on locks",l),void(p=i);i()}),r=0;a.eachUnit(function(e){e.onReady(f.wrapAsync(function(){u||++r>=d.length&&(f.log("Auction ",a.id," received bids for ",r," / ",d.length," units. Duration: ",f.dts()-a.ts,"ms"),n())}))}),f.each(s,function(e){var t=o[e];f.thread(function(){t.execute(a)})()}),setTimeout(function(){u||(f.log("Auction ",a.id," timing out with ",r," / ",d.length," units completed. Duration: ",f.dts()-a.ts,"ms"),n())},a.max_ms)}}},{"./analytics":10,"./config":13,"./modules":15,"./unit":21,"./utils":22}],12:[function(o,e,t){function i(e,t){var i=o("./shim.js"),n=t&&t.bidId||i.getUniqueIdentifierStr(),r=t&&t.src||"client",a=e||0;this.bidderCode=t&&t.bidder||"",this.width=0,this.height=0,this.statusMessage=function(){switch(a){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),this.adId=n,this.mediaType="banner",this.source=r,this.getStatusCode=function(){return a},this.getSize=function(){return this.width+"x"+this.height}}e.exports={createBid:function(e,t){return new i(e,t)}}},{"./shim.js":20}],13:[function(t,e,o){var p=t("./utils"),r=t("./ajax"),d={c:2418030,s:{track_imps:!0,bid_strategy:".05:.05-7.5,.5:8-20,1:21-40,2:42-50",usp:{image:!0,iframe:!1,delay:3e3},initfn:function(){var e=document.createElement("script");e.async=!0,e.src="//js-sec.indexww.com/ht/p/180447-192872210293780.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},new_tl_test:function(e){return!p.qs("adb_tl_new_only")&&e},cmp:"iab",cmp_check_interval:100,cmp_check_max:20,gpt_clear_kvps:["hb_bidder","hb_pb","hb_adid"],gpt_kvp_overrides:{adb_bdr:"hb_bidder",adb_hbc:"hb_pb",adb_adid:"hb_adid"},gpt_keep_oop:1,allow_serve_from_refresh:!0,ajax_ms:1100,before_gpt:function(){p.qs("no_sandbox")||(p.log("Requiring GPT Sandbox SafeFrames"),googletag.pubads().setSafeFrameConfig({sandbox:!0}))}},u:{25:[25,"MNT_Desktop_300x250_1","300x250",["300x600"],.2,1500,0,0,{"gpt.adunit_regex":"DMR1$"},[[2,"1135706",{position:"atf"},0],[4,"540601974",0,0],[5,"14538255",0,0],[10,"323129",{size:"300x250"},0],[10,"323129",{size:"300x600"},0],[18,"MedicalNewsToday_Desktop_300x250",0,0],[114,"5043325",{size:"300x250"},0],[114,"5043343",{size:"300x600"},0],[174,"MedicalNewsToday_Desktop_DMR2_300x250",0,function(e,t){return t.new_tl_test(e)}]]],26:[26,"MNT_Desktop_300x250_2","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR2$"},[[2,"1135708",0,0],[4,"540601975",0,0],[5,"14538341",0,0],[10,"323130",{size:"300x250"},0],[114,"5043328",{size:"300x250"},0],[174,"MedicalNewsToday_Desktop_DMR2_300x250",0,function(e,t){return t.new_tl_test(e)}]]],27:[27,"MNT_Desktop_300x250_3","300x250",["300x600"],.2,1500,0,0,{"gpt.adunit_regex":"DMR3$"},[[2,"1135710",0,0],[4,"540601976",0,0],[5,"14538372",0,0],[10,"323131",{size:"300x250"},0],[10,"323131",{size:"300x600"},0],[114,"5043337",{size:"300x250"},0],[114,"5043344",{size:"300x600"},0],[174,"MedicalNewsToday_Desktop_DMR3_300x250",0,function(e,t){return t.new_tl_test(e)}]]],28:[28,"MNT_Desktop_300x250_4","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR4$"},[[2,"1135712",0,0],[4,"540601977",0,0],[5,"14538406",0,0],[10,"323132",{size:"300x250"},0],[114,"5043334",{size:"300x250"},0],[174,"MedicalNewsToday_Desktop_DMR4_300x250",0,function(e,t){return t.new_tl_test(e)}]]],29:[29,"MNT_Desktop_300x250_5","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR5$"},[[2,"1135714",0,0],[4,"540601978",0,0],[5,"14538439",0,0],[10,"323136",{size:"300x250"},0],[114,"5043338",{size:"300x250"},0],[174,"MedicalNewsToday_Desktop_DMR5_300x250",0,function(e,t){return t.new_tl_test(e)}]]],30:[30,"MNT_Desktop_300x250_6","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR6$"},[[2,"1135716",0,0],[4,"540601979",0,0],[5,"14538529",0,0],[10,"323138",{size:"300x250"},0],[114,"5043339",{size:"300x250"},0],[174,"MedicalNewsToday_Desktop_DMR6_300x250",0,function(e,t){return t.new_tl_test(e)}]]],31:[31,"MNT_Desktop_300x250_7","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR7$"},[[2,"1135718",0,0],[4,"540601980",0,0],[5,"14538556",0,0],[10,"323135",{size:"300x250"},0],[114,"5043335",{size:"300x250"},0],[174,"MedicalNewsToday_Desktop_DMR7_300x250",0,function(e,t){return t.new_tl_test(e)}]]],32:[32,"MNT_Desktop_300x250_8","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR8$"},[[2,"1135720",0,0],[4,"540601981",0,0],[5,"14538725",0,0],[10,"323147",{size:"300x250"},0],[114,"5043336",{size:"300x250"},0],[174,"MedicalNewsToday_Desktop_DMR8_300x250",0,function(e,t){return t.new_tl_test(e)}]]],33:[33,"MNT_Desktop_300x250_9","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR9$"},[[2,"1135722",0,0],[4,"540601982",0,0],[5,"14538763",0,0],[10,"323150",{size:"300x250"},0],[114,"5043341",{size:"300x250"},0],[174,"MedicalNewsToday_Desktop_DMR9_300x250",0,function(e,t){return t.new_tl_test(e)}]]],34:[34,"MNT_Desktop_300x250_10","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR10$"},[[2,"1135724",0,0],[4,"540601983",0,0],[5,"14538803",0,0],[10,"323153",{size:"300x250"},0],[114,"5043342",{size:"300x250"},0],[174,"MedicalNewsToday_Desktop_DMR10_300x250",0,function(e,t){return t.new_tl_test(e)}]]],35:[35,"MNT_Desktop_300x250_11","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR11$"},[[2,"1135726",0,0],[4,"540601984",0,0],[5,"14538836",0,0],[10,"323155",{size:"300x250"},0],[114,"5043330",{size:"300x250"},0],[174,"MedicalNewsToday_Desktop_DMR11_300x250",0,function(e,t){return t.new_tl_test(e)}]]],36:[36,"MNT_Desktop_300x250_12","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR12$"},[[2,"1135728",0,0],[4,"540601985",0,0],[5,"14538927",0,0],[10,"323158",{size:"300x250"},0],[114,"5043329",{size:"300x250"},0],[174,"MedicalNewsToday_Desktop_DMR12_300x250",0,function(e,t){return t.new_tl_test(e)}]]],37:[37,"MNT_Desktop_300x250_13","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR13$"},[[2,"1135730",0,0],[4,"540601986",0,0],[5,"14538964",0,0],[10,"323199",{size:"300x250"},0],[114,"5043326",{size:"300x250"},0],[174,"MedicalNewsToday_Desktop_DMR13_300x250",0,function(e,t){return t.new_tl_test(e)}]]],38:[38,"MNT_Desktop_300x250_14","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR14$"},[[2,"1135732",0,0],[4,"540601987",0,0],[5,"14538996",0,0],[10,"323160",{size:"300x250"},0],[114,"5043340",{size:"300x250"},0],[174,"MedicalNewsToday_Desktop_DMR14_300x250",0,function(e,t){return t.new_tl_test(e)}]]],39:[39,"MNT_Desktop_300x250_15","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"DMR15$"},[[2,"1135734",0,0],[4,"540601988",0,0],[5,"14539029",0,0],[10,"323163",{size:"300x250"},0],[114,"5043333",{size:"300x250"},0],[174,"MedicalNewsToday_Desktop_DMR15_300x250",0,function(e,t){return t.new_tl_test(e)}]]],40:[40,"MNT_Desktop_728x90_1","728x90",["970x90"],.2,1500,0,0,{"gpt.adunit_regex":"DLB1$"},[[2,"1135736",{position:"atf"},0],[4,"540601989",0,0],[5,"14537842",0,0],[10,"323178",{size:"728x90"},0],[10,"323178",{size:"970x90"},0],[18,"MedicalNewsToday_Desktop_728x90",0,0],[114,"5043323",{size:"970x90"},0],[114,"5043324",{size:"728x90"},0],[174,"MedicalNewsToday_Desktop_DLB1_728x90",0,function(e,t){return t.new_tl_test(e)}]]],41:[41,"MNT_Desktop_728x90_2","728x90",[],.2,1500,0,0,{"gpt.adunit_regex":"DLB2$"},[[2,"1135738",0,0],[4,"540601990",0,0],[5,"14538051",0,0],[10,"323188",{size:"728x90"},0],[18,"MedicalNewsToday_Desktop_Inarticle_728x90",0,0],[114,"5043331",{size:"728x90"},0],[174,"MedicalNewsToday_Desktop_DLB2_728x90",0,function(e,t){return t.new_tl_test(e)}]]],42:[42,"MNT_Desktop_728x90_3","728x90",[],.2,1500,0,0,{"gpt.adunit_regex":"DLB3$"},[[2,"1135740",0,0],[4,"540601991",0,0],[5,"14538122",0,0],[10,"323195",{size:"728x90"},0],[114,"5043327",{size:"728x90"},0],[174,"MedicalNewsToday_Desktop_DLB3_728x90",0,function(e,t){return t.new_tl_test(e)}]]],43:[43,"MNT_Desktop_728x90_4","728x90",[],.2,1500,0,0,{"gpt.adunit_regex":"DLB4$"},[[2,"1135742",0,0],[4,"540601992",0,0],[5,"14538176",0,0],[10,"323189",{size:"728x90"},0],[114,"5043332",{size:"728x90"},0],[174,"new BRC",0,function(e,t){return t.new_tl_test(e)}]]],44:[44,"MNT_Mobile_320x50","320x50",[],.2,1500,0,0,{"gpt.adunit_regex":"MLB1$"},[[2,"1135744",{position:"atf"},0],[4,"540601993",0,0],[5,"14539128",0,0],[10,"323204",{size:"320x50"},0],[114,"5043347",{size:"320x50"},0],[174,"MedicalNewsToday_Mobile_MLB1_320x50",0,function(e,t){return t.new_tl_test(e)}]]],45:[45,"MNT_Mobile_300x250_1","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"MMR1$"},[[2,"1135746",{position:"atf"},0],[4,"540601994",0,0],[5,"14539184",0,0],[10,"323205",{size:"300x250"},0],[114,"5043349",{size:"300x250"},0],[174,"MedicalNewsToday_Mobile_MMR1 _300x250",0,function(e,t){return t.new_tl_test(e)}]]],46:[46,"MNT_Mobile_300x250_2","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"MMR2$"},[[2,"1135748",0,0],[4,"540601995",0,0],[5,"14539202",0,0],[10,"323206",{size:"300x250"},0],[114,"5043348",{size:"300x250"},0],[174,"MedicalNewsToday_Mobile_MMR2_300x250",0,function(e,t){return t.new_tl_test(e)}]]],47:[47,"MNT_Mobile_300x250_3","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"MMR3$"},[[2,"1135750",0,0],[4,"540601996",0,0],[5,"14539248",0,0],[10,"323207",{size:"300x250"},0],[114,"5043345",{size:"300x250"},0],[174,"MedicalNewsToday_Mobile_MMR3_300x250",0,function(e,t){return t.new_tl_test(e)}]]],48:[48,"MNT_Mobile_300x250_4","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"MMR4$"},[[2,"1135752",0,0],[4,"540601997",0,0],[5,"14539270",0,0],[10,"323208",{size:"300x250"},0],[114,"5043346",{size:"300x250"},0],[174,"MedicalNewsToday_Mobile_MMR4_300x250",0,function(e,t){return t.new_tl_test(e)}]]],49:[49,"MNT_Mobile_300x250_5","300x250",[],.2,1500,0,0,{"gpt.adunit_regex":"MMR5$"},[[2,"1135754",0,0],[4,"540601998",0,0],[5,"14539307",0,0],[10,"323209",{size:"300x250"},0],[114,"5043350",{size:"300x250"},0],[174,"MedicalNewsToday_Mobile_MMR5_300x250",0,function(e,t){return t.new_tl_test(e)}]]]}},c=function(e,t,i){var n=t.mapping_rules;if(!n)return!1;var r=e.get("gpt_slot"),a=r.getAdUnitPath(),o=e.get("gpt_sizes"),s=e.get("dom_id");for(var d in n){if(!n.hasOwnProperty(d))return;var c=n[d],u=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if("vp.max_width"==d&&c<u)return!1;if("vp.min_width"==d&&u<c)return!1;if("lib"==d.substr(0,3)){var l=i[d.substr(4)];if(("function"==typeof l&&l(r,a,o,s))!=c)return!1}if("gpt.adunit"==d&&c!=a)return!1;if("gpt.adunit_regex"==d&&!new RegExp(c,"i").test(a))return!1;if("gpt.domid"==d&&c!=s)return!1;if("gpt.domid_regex"==d&&!new RegExp(c,"i").test(s))return!1;if("gpt.has_size"==d&&!o.match(c))return!1;if("gpt.no_size"==d&&o.match(c))return!1}return p.log("Unit mapped: ",s,"->",t.alias),!0},u=function(e,t){return{id:t[0],alias:t[1],size:t[2],other_sizes:t[3]||[],min_cpm:t[4],max_ms:t[5],settings:t[6]||{},rule_order:t[7],mapping_rules:t[8],bid_req_confs:t[9]}},l={},f={},i={};window.AdBridg=window.AdBridg||{cmd:[]},window.AdBridg.global=function(e,t){if(void 0===t)return p.logl("g","Global read: ",e,i[e]),i[e];i[e]=t,p.logl("g","Global set: ",e,t)},window.AdBridg.globals={version:"1.34.0-pre"},d.s.preconfigure_init&&p.wrapAsync(d.s.preconfigure_init)(d.s),o.getId=function(){return d.c},o.libSettings=function(){return d.s},o.kvp=function(e){var t=d.s.gpt_kvp_overrides;return t&&t[e]?t[e]:e},o.proc=function(e){d.s.pub=d.s.pub||{},p.each(e,function(e,t){d.s.pub[t]=e}),p.log("Publisher config update: ",JSON.stringify(d.s.pub)),t("./modules.js").trigger("pub.config",d.s.pub)},o.deca=function(e){if(d.s.alter_adb_pixel)try{e=d.s.alter_adb_pixel(e)}catch(e){p.err("Alter adb fail",e)}return e};o.configureUnit=function(e,t){var i=!1,n=[];for(var r in d.u)if(d.u.hasOwnProperty(r)){var a=u(0,d.u[r]);if(d.s.dynamic_configuration)try{var o=d.s.dynamic_configuration(a,d.s,e);if("object"!=typeof o&&!1!==o||(a=o),!a)continue}catch(e){p.err("Failed dynamic configuration",e)}if(t){if(t!=a.id)continue;i=a;break}if(a.rule_order)n[a.rule_order]=a;else if(c(e,a,d.s)){i=a;break}}if(!i&&n.length)for(var s=0;s<n.length;++s)if(n[s]&&c(e,n[s],d.s)){i=n[s];break}i&&(e.configure(i),function(e,t){var i;if(t.bid_req_confs&&t.bid_req_confs.length)for(var n=0;n<t.bid_req_confs.length;++n){var r=t.bid_req_confs[n],a={bidder_id:(i=r)[0],bidder_unit_id:i[1],settings:i[2]||{},mutate:i[3]||!1},o=f[String(a.bidder_id)];p.qsab(o,a.bidder_id)&&(e.addBidder(o,l[o]),e.addBidReqConf(o,a,d.s))}}(e,i))},o.units=function(i){p.each(d.u,function(e,t){i(u(0,e))})};var n=d.s.usp;"function"==typeof n&&(n=n()),n&&p.cfusp(n.image,n.iframe,n.delay);var a=!1,s=!1,g=!1,m=!1,h=!1,_=d.s.cmp_allow_geofail,v=[],b=[],y=p.qs("adb_gdpr"),w=!1,x=d.s.cmp;"function"==typeof x&&(a=!0,x(d.s,function(e){p.log("Publisher CMP determined: ",e),x=e,a=!1,o.afterConsent()}));var D,z,A=d.s.cmp_fallback,S=0,B=function(e){for(w=e;b.length;)b.shift()(w)},T=function(){p.err("GDPR block bids, allow DFP; cmp=",x),d.u=[],d.s.gptnpa&&(p.log("Setting NonPersonalizedAds=1"),googletag.cmd.push(function(){googletag.pubads().setRequestNonPersonalizedAds(1)})),B({gdprApplies:!0,consentString:""})};o.afterConsent=function(e){clearTimeout(D);var t=d.s.cmp_check_interval,i=d.s.cmp_check_max,n="function"==typeof e;if(x)if(w)n&&e(w);else if(n&&(e=p.wrapAsync(e),b.push(e)),"pubblock"!=x){if("iab"==x||"conversant"==x){if("function"!=typeof window.__cmp)return t&&S<i?(s||(s=!0,p.log("CMP not present; checking every ",t,"ms; max ",i,"intervals")),void(D=setTimeout(function(){++S,o.afterConsent()},t))):void(z||(z=!0,A?(x=A,p.err("CMP fallback to",x),setTimeout(function(){o.afterConsent()},0)):p.err("CMP object not found; exiting!")));if(a)return;return a=!0,p.log("CMP check"),void __cmp("getVendorConsents",null,function(e){p.log("CMP consent: ",e);var t={consentString:e?"iab"==x?e.consentData:e.metadata:void 0,vendorData:e?e.vendorConsents:void 0,gdprApplies:e?e.gdprApplies:void 0};B(t)})}g||"geoblock"!=x&&"geoblockbids"!=x&&"geocmp"!=x||(g=!0,function(e){if(!h&&y&&(p.log("Emulating GDPR"),h={cc:"XX",gdpr:!0}),!h&&p.cr("adbnoteu")&&(p.log("Non-GDPR geo cookie found"),h={cc:"XX",gdpr:!1}),h)return e(h);v.push(e),m||(m=!0,p.log("Geolocation requested"),r({url:("http:"===location.protocol?"http:":"https:")+"//cc.adspsp.com",withCredentials:!0},function(e,t){if(e){if(p.err("geobfail1",e),!_)return;h={cc:"11",gdpr:!1}}else try{h=JSON.parse(t)}catch(e){if(p.err("geobfail2",e),!_)return;h={cc:"22",gdpr:!1}}for(p.log("Geolocation result",h),h.gdpr||p.cw("adbnoteu",1,5);v.length;)v.shift()(h)}))}(function(e){return e.gdpr?"geocmp"==x?(x=d.s.cmp_for_geo,a=g=!1,p.log("GDPR applies, establishing dependency on CMP: ",x),void setTimeout(function(){o.afterConsent()},0)):"geoblock"==x?p.err("GDPR block all",e.cc):(g=!1,void T()):(p.log("GDPR OK: CC",e.cc," not in EU."),B({gdprApplies:!1,consentString:""}),void(g=!1))}))}else T();else n&&e()};var k=function(n,r,a){o.afterConsent(function(e){if(e&&e.gdprApplies&&!e.consentString)return p.log("GDPR skip register",n,e);if(l[n])p.err("Duplicate bidder alias "+n);else{var t,i={bidder_id:(t=a)[0],settings:t[1]||{},mutate:t[2]||!1};0,l[n]=new r(n,i.bidder_id,i.settings,e),l[n].alias=n,l[n].id=i.bidder_id,l[n].settings=i.settings,l[n].mutate=i.mutate||!1,f[String(i.bidder_id)]=n}})};t("./modules.js").setup(o);var C=t("./adapters/triplelift_direct.js"),j=t("./adapters/aol.js"),E=t("./adapters/triplelift.js"),I=t("./adapters/index.js"),M=t("./adapters/appnexusast.js"),R=t("./adapters/openx.js");k("rubicon",t("./adapters/rubicon.js"),[2,{account:11314,site:229330},function(e,t){try{e.inventory={k1:(t.pub&&t.pub.k1||window.googleDegfaultAdVars&&window.googleDegfaultAdVars.k1||"").replace(/'/g,""),k2:(t.pub&&t.pub.k2||window.googleDegfaultAdVars&&window.googleDegfaultAdVars.k2||"").replace(/'/g,"")},p.log("Rubicon KVP",e.inventory)}catch(e){p.err("MNT Rubicon K1 fail",e)}return e}]),k("openx",R,[4,{delDomain:"healthline-d.openx.net"},0]),k("appnexus",M,[5,0,function(e,t){return e.params=e.params||{},e.params.keywords={k1:t.pub&&t.pub.k1||"",k2:t.pub&&t.pub.k2||""},e}]),k("ix",I,[10,0,0]),k("triplelift",E,[18,0,0]),k("onedisplay",j,[114,{network:"9502.1"},0]),k("tpl_direct",C,[174,{check_gdpr:!0},0])},{"./adapters/aol.js":2,"./adapters/appnexusast.js":3,"./adapters/index.js":4,"./adapters/openx.js":5,"./adapters/rubicon.js":6,"./adapters/triplelift.js":7,"./adapters/triplelift_direct.js":8,"./ajax":9,"./modules.js":15,"./utils":22}],14:[function(e,t,n){if(window.googletag=window.googletag||{cmd:[]},window.AdBridg=window.AdBridg||{cmd:[]},!(AdBridg.exists||googletag&&googletag.cmd&&googletag.cmd===AdBridg.cmd)){AdBridg.exists=!0;var _=e("../utils.js"),g=e("../unit.js"),u=e("../auction.js"),v=e("../config.js"),b=e("../analytics.js"),y=e("../modules.js");if(!_.qs("adb_off")){var r=!1,a=[],d=!1,c=[],o=!1,h=[],s=[],w={},x={},D={},m={},l=!1,p=[],f=[],z={},A=[],S="Workflow |",B=!0,T=v.libSettings().sra_if;(T&&!T()||v.libSettings().no_sra)&&(B=!1);var k={},C=function(e,t){e=Math.round(100*e);for(var i=function(e){if(e||(e=".05:.05-10"),!k[e]){k[e]=[];for(var t=e.split(","),i=0;i<t.length;++i){var n=t[i].split(":"),r=n[1].split("-"),a={increment:Math.round(100*parseFloat(n[0])),upper:Math.round(100*parseFloat(r[1])),final:!1};i==t.length-1&&(a.final=a.upper-a.increment),k[e].push(a)}}return k[e]}(t),n=0;n<i.length;++n){var r=i[n];if(r.final&&e>=r.upper-r.increment)return{r:parseFloat(((r.final+r.increment)/100).toFixed(2)),kv:(r.final/100).toFixed(2)+"-"};if(!(e>=r.upper)){var a=Math.floor(e/r.increment)*r.increment/100,o=parseFloat((a+r.increment/100).toFixed(2)),s=o-.01;return{r:o,kv:Math.max(.01,a).toFixed(2)+"-"+s.toFixed(2)}}}},j=function(e){var t,i,n=v.libSettings().gpt_clear_kvps,r=[],a=e.getTargetingMap(),o=!1;for(i in a)a.hasOwnProperty(i)&&("adb_"==i.substr(0,4)||n&&0<=n.indexOf(i)?o=!0:r.push([i,a[i]]));if(o)for(e.clearTargeting(),t=0;t<r.length;++t)e.setTargeting(r[t][0],r[t][1]);E(e)},E=function(e){var t=v.libSettings().gpt_exclusions;if(t){do_erase=!1;var n=e.getCategoryExclusions();for(i=n.length-1;0<=i;--i){var r=n[i];t.hasOwnProperty(r)&&(n.splice(i,1),do_erase=!0)}if(do_erase)for(e.clearCategoryExclusions(),i=0;i<n.length;++i)e.setCategoryExclusion(n[i])}},I=function(e,t){var i=v.libSettings().gpt_exclusions;if(i){var n=[];for(var r in i){var a=i[r];("function"==typeof a&&a(e,t)||a<=t)&&(e.setCategoryExclusion(r),n.push(r))}n.length&&_.log("Set GPT category exclusions for ",e.getAdUnitPath()," / ",e.getSlotElementId(),": ",n)}},M=function(t,i,o){0;return _.wrapAsync(function(a){oe("ra",function(){var r=[];a.eachUnit(function(t){if(a===d){if(!t.get("gpt_slot")||t.get("preload_used"))return;t.set("preload_used",1)}try{var e=v.libSettings().post_auc_ufilter;if(e){var i=e(t,o);if(i)return void _.log("Ignoring",t.alias,t.get("dom_id"),i)}}catch(e){_.err("Err auc unit filter ",t.alias,t.get("dom_id"),e)}try{if(t.settings.require_bid&&!t.getWinner())return _.log("Discarding unit ",t.alias,t.get("dom_id")," -- requires bid but had none."),void _.thread(function(){AdBridg.destroySlots([t.get("gpt_slot")])})();var n=t.getWinner();n&&n.config.unit.setImpData("adb_mtype",n.extras.mediaType),function(e){var t=v.libSettings().bid_strategy,i=e.getWinner(),n=e.get("gpt_slot");j(n),y.trigger("gpt.set_targeting",e,n);var r=e.get("adb_imp_data");if(r){var a=n.getTargeting("adb_imp")||[];_.isarr(a)||(a=[a]),_.each(r,function(e,t){e&&-1==a.indexOf(e)&&a.push(e)}),a.length&&n.setTargeting(v.kvp("adb_imp"),a)}if(v.libSettings().track_alias&&n.setTargeting(v.kvp("adb_cfg"),e.alias),!i)return n.setTargeting(v.kvp("adb_bdr"),["none"]),I(n,-1),y.trigger("gpt.no_hbc",e,n,function(e){return C(e,t)},function(e,t){E(e),I(e,t)});var o=(z[i.id]=i).config.dfp_bidder_name||i.config.bidder_name,s=i.cpm,d=v.libSettings().cur;d&&(d.exclude&&-1<d.exclude.indexOf(i.config.bidder_id)?_.log("Currency conversion skipped: ",i.config.bidder_name):(_.log("Currency conversion: USD = ",s,"; Rate = ",d.rate,"; DFP = ",d.rate*s),s*=d.rate));var c=C(s,t),u=c.kv;y.trigger("gpt.modify_hbc",e,n,{bid:i,range:c,mod:function(e){return c=C(s=e,t),u=c.kv,c}}),_.qs("adb_force_bidder")?(o="force",u=""):_.qs("adb_force_sf_bidder")&&(o="forcesf",u="");var l=v.libSettings().vs_threshold;if("function"==typeof l)try{var p=l(s);p&&n.setTargeting(v.kvp("adb_vs"),p)}catch(e){_.err("HVfail",e)}n.setTargeting(v.kvp("adb_bdr"),[o]),n.setTargeting(v.kvp("adb_hbc"),[u]),n.setTargeting(v.kvp("adb_adid"),[i.id]),n.setTargeting(v.kvp("adb_mtype"),[i.extras.mediaType]),_.log("Set GPT targeting for ",n.getAdUnitPath()," / ",n.getSlotElementId(),": ",o,u),I(n,s)}(t),r.push(t.get("gpt_slot"))}catch(e){_.err("Err setting unit ",t.alias,t.get("dom_id"),e)}});var e=f.concat(r);if(f=[],P(e),"function"==typeof t&&t(a),B&&!(e=U("AC",e)).length)return _.err("All units cancelled",a.id);(B||o)&&($(),_.log(S,"GPT Batch: ",e.length),googletag.pubads().refresh(e,i),y.trigger("gpt.request_adbridg",a,o))})})},R=function(){if(l){var e=p.length;if((p=U("PT",p)).length){if(_.isdebug()){var t=[];_.each(p,function(e){t.push(e.getAdUnitPath()+" / "+e.getSlotElementId())}),_.log("Non-bid request with",p.length," units: ",t)}oe("rp",function(){var e=p;p=[],e.length&&($(),P(e),_.log(S,"GPT PT Batch: ",e.length),googletag.pubads().refresh(e),y.trigger("gpt.request_passthrough",e))})}else e&&_.err("PT units cancelled")}},N={},F={},P=function(e){_.each(e,function(e){var t=e.getSlotElementId(),i=(F[t]||0)+1;F[t]=i;var n=v.libSettings().track_imps;if(n)try{"string"!=typeof n&&(n="1:1-11"),imp_tracking=Math.floor(C(i,n).kv.split("-")[0]);for(var r=e.getTargeting("adb_imp"),a=r.length-1;0<=a;--a)String(r[a]).match(/^\d+$/)&&r.splice(a,1);r.push(imp_tracking),e.setTargeting(v.kvp("adb_imp"),r)}catch(e){_.err("Counter failed: ",e)}})},O={},q=function(e){_.log("Locked slot: ",e.getSlotElementId()),O[e.getSlotElementId()]=!0},U=_.wrapAsync(function(a,e,o){var s=v.libSettings().max_imp_ctr,d=[];return _.each(e,function(e){var t=e&&e.getSlotElementId?e:e.get("gpt_slot");if(t){var i=t.getSlotElementId();if(!D[i]){if(G("F"+a,i))return _.log("Slot excluded; element hidden",i);if(o){if(O[t.getSlotElementId()])return _.log("Cannot refresh locked dom_id: ",t.getSlotElementId());if(s){var n=F[i]||0;if(s<=n)return N[i]?_.log("Slot excluded; too many imps: ",t,n+" > "+s):_.err("Slot imp max: ",t.getAdUnitPath(),i,s)}}var r=[];if(y.trigger("gpt.filter_slot",a,t,o,r),r.length)return _.log("Module blocking",a,t,r);d.push(e)}}}),d}),Z=function(e,n,r){var a=[];a=Number(e[0])==e[0]?[e]:[].concat(e);var o=[];if(_.each(a,function(e,t){if("string"==typeof e[t]){var i=e[t].split("x");return 0!=i[0]&&0!=i[1]||_.err("0 size in",n,r,e[t]),void(e[t].match(/^\d+x\d+$/)||o.push(t))}0!=e[0]&&0!=e[1]||_.err("0 size in",n,r,e.join("x")),a[t]=e.join("x")}),o.length)for(var t=o.length-1;0<=t;--t)a.splice(t,1);return a},G=function(e,t,i){var n=_.dom_invisible(t);if(n){i=i||0;var r=v.libSettings().block_invisible;if("function"==typeof r&&(r=r(e,t)),r)return _.err("DEI.R",e,t,n,i),n;_.err("DEI.A",e,t,n,i)}return!1};window.AdBridg.defineSlot=_.wrapAsync(function(e,t,i){var n=G("DS",i);if(n)return _.log("Slot definition blocked: ",i,n),!1;var r=v.libSettings().override_define;if("function"==typeof r)try{var a=r(e,t,i);a&&(a.dfp_ad_unit_path&&(e=a.dfp_ad_unit_path),a.dfp_sizes&&(t=a.dfp_sizes),a.dom_id&&(i=a.dom_id))}catch(e){_.err("DefineOverride",e)}var o=googletag.defineSlot(e,t,i);if(!o)return o;o.addService(googletag.pubads()),q(o);var s=Z(t,e,i),d=s.join(","),c=new g({dom_id:i,gpt_slot:o,gpt_sizes:d});c.restrictSizesTo(s),w[i]=d;var u=400,l=v.libSettings().lazy;if("function"==typeof l&&"number"==typeof(l=l(c,o,i,v.libSettings()))&&(u=l),l){_.log("Requiring lazy: ",i,"distance=",u),c.set("lock.lazy",1);var p=v.libSettings().lazy_measurement_filter;_.dom(i,u,0,function(){_.logl("wf",S,"unit triggered lazy load",c.alias,c.get("dom_id")),c.set("lock.lazy",!1),B?AdBridg.serve():AdBridg.display(i)},p)}if(h.push(c),_.log(S,"Defined slot: ",e,i,d),y.trigger("gpt.define",c,o,e,t,i),v.libSettings().allow_serve_from_display&&m[i]&&(_.logl("wf",S,"triggering serve from define after display",i),AdBridg.serve()),!B){var f=v.libSettings().nonsra_poll;"function"==typeof f&&(f=f()),f&&(_.log("Nonsra poll for DOM ids"),L(i))}return o}),window.AdBridg.defineOutOfPageSlot=_.wrapAsync(function(e,t){var i=googletag.defineOutOfPageSlot(e,t);if(!i)return i;i.addService(googletag.pubads()),q(i);var n=new g({dom_id:t,gpt_slot:i,gpt_sizes:""});return h.push(n),_.log(S,"Defined OOP slot: ",e,t),y.trigger("gpt.define",n,i,e,!1,t),v.libSettings().allow_serve_from_display&&m[t]&&(_.logl("wf",S,"triggering serve from defineOOP after display",t),AdBridg.serve()),i});var V={},L=function(t){V[t]=V[t]||{ct:0,tx:-1};var i=V[t];clearTimeout(i.tx),10!=i.ct?(i.ct+=1,i.tx=setTimeout(_.wrapAsync(function(){if(!m[t]){var e=!!document.getElementById(t);if(_.log("Nonsra display poll #"+i.ct+": ",t,"; display received =",!!m[t],"; dom exists =",e),e)return _.log("Nonsra issuing display from poll",t),void AdBridg.display(t);L(t)}}),1e3)):_.log("Nonsra display poll is giving up on",t)};window.AdBridg.display=_.wrapAsync(function(e,t,i){if(i?(AdBridg.defineSlot(e,t,i),AdBridg.serve()):i=e,m[i]=!0,_.logl("wf",S,"display received",i),v.libSettings().allow_serve_from_display&&h.length&&(_.logl("wf",S,"triggering serve from display",i),AdBridg.serve()),l=!0,!B){h.length&&(s=s.concat(h),h=[]);for(var n=s.length-1;0<=n;--n){var r=s[n].get("dom_id");if(m[r]){var a=s.splice(n,1)[0];if(!a.get("gpt_sizes")){_.logl("Ignoring display for unit with no sizes",r);continue}h.push(a)}}return h.length?(_.logl("wf",S,"nonsra issuing serve",h.length),void Q(function(n,r){oe("dn",function(){n?n.eachUnit(function(e){_.logl("wf",S,"display resolved",e.get("dom_id"),"auction=",n),googletag.display(e.get("dom_id")),y.trigger("gpt.request_nosra",e.get("dom_id"))}):(_.logl("wf",S,"display resolved",r," as passthrough"),googletag.display(r),y.trigger("gpt.request_nosra",r));var e=s.length;if(e){_.logl("wf",S,"nonsra units queued: ",e);for(var t=e-1;0<=t;--t){var i=s[t].get("dom_id");if(m[i]){setTimeout(function(){AdBridg.display(i)},0);break}}}})})):void _.logl("wf",S,"nonsra display waiting on definition/serve")}oe("ds",function(){$(),_.logl("wf",S,"display resolved",i),googletag.display(i)}),R()}),window.AdBridg.refresh=_.wrapAsync(function(e,t){if(e||(e=googletag.pubads().getSlots()),v.libSettings().allow_serve_from_refresh&&h.length){for(var i=e.length-1;0<=i;i--)for(var n=h.length-1;0<=n;n--)e[i]===h[n].get("gpt_slot")&&e.splice(i,1);if(AdBridg.serve(),!e.length)return}var r=e.length;if(e=U("RF",e,!0),_.logl("wf",S,"refresh: ",r,"slots requested; ",r-e.length,"filtered out;",e.length,"remaining."),e.length){var o=new u,s="no_auction"!=v.libSettings().refresh,d=[],c=[];_.each(e,function(e){try{j(e)}catch(e){return _.err("Failed to clear slot: ",e)}var t=e.getSlotElementId();q(e);var i=w[t]||"";if(x[t]){var n=x[t].adb||x[t].gpt,r=n&&"0x0"!=n&&n.match(/^\d{2,}x\d{2,}\d/);_.logl("sz","Refresh size restriction for",t,"=",n,"; is_valid=",r),r&&(i=n)}var a=new g({dom_id:t,gpt_slot:e,gpt_sizes:i,is_refresh:!0});s&&(v.configureUnit(a),_.logl("sz","Refresh restricting sizes to ",i),a.restrictSizesTo(i.split(","))),a.hasBidReqConf()?o.addUnit(a):(c.push(e.getAdUnitPath()+" / "+e.getSlotElementId()),d.push(e))}),d.length&&(_.log("Refreshing",d.length,"non-bid units: ",c),oe("rn",function(){$(),P(d),_.log(S,"GPT RF Batch: ",d.length),googletag.pubads().refresh(d,t),y.trigger("gpt.request_passthrough",d,!0)})),o.hasUnit()&&(A.push(o),o.execute(M(null,t,!0)))}else r&&_.err("RF units cancelled")});var W={},J=_.wrapAsync(function(e){var t=String(e.message?e.message:e.data),i=t.substr(0,9),n=t.substr(10);return"adbsrverr"==i?_.err("Safeframe error: ",n):"adbsrvlog"==i?_.log("Safeframe: ",n):"adbsrvreq"==i?W.hasOwnProperty(n)?_.err("SafeframeDupe:",n):void AdBridg.render({safeframe:!0,source:e.source},n):void 0});window.addEventListener?window.addEventListener("message",J,!1):document.attachEvent&&window.attachEvent("onmessage",J),window.AdBridg.render=_.wrapAsync(function(t,e){var i,n=!("object"!=typeof e);if(n)i=e,_.log("Unit ",i.config.unit.alias," rendering ",i.width+"x"+i.height," [override] creative from ",i.config.bidder_name," BR ",i.config.id);else{if(!z[e])return void _.err("Render failed for ID ",e);i=z[e],_.log("Unit ",i.config.unit.alias," rendering ",i.width+"x"+i.height," creative from ",i.config.bidder_name," BR ",i.config.id),b.bidRendered(i)}var r=i.config.unit.get("dom_id"),a=_.dom_invisible(r);G("AR",r,i.config.bidder_id),a&&_.log("AdBridg render detected invisible container at time of render:",r,a);var o={config:i.config.unit.alias,bidder:i.config.bidder_name,size:i.width+"x"+i.height,extras:i.extras,dom_id:r};n&&(o.override=1);var s=JSON.stringify(o);if(y.trigger("bid.render",i,o),t.safeframe&&t.source&&t.source.postMessage){var d=v.libSettings().pmmutatefn;if(!i.creative)return _.err("Safeframe render fail: no creative");var c={ad:"\x3c!-- AdBridg Delivery (SF): "+s+" --\x3e"+i.creative};"function"==typeof d&&(c=d(i,c)),t.source.postMessage("adbsrvad:"+JSON.stringify(c),"*")}else if(i.creative){var u=v.libSettings().pubrenderfn,l=!1;"function"==typeof u&&(t.write("\x3c!-- AdBridg Delivery (ER): "+s+" --\x3e"),u(t,i.creative,i.config.bidder_name,i.width,i.height,i)?(l=!0,_.log("Creative rendered externally")):_.log("External render skipped")),l||(t.write("\x3c!-- AdBridg Delivery: "+s+" --\x3e"),t.write(i.creative),t.close())}else if(i.creative_url)try{var p=_.iiframe();p.width=i.width,p.height=i.height,p.style.display="inline",p.style.overflow="hidden",p.src=i.creative_url,t.body.appendChild(document.createComment("AdBridg Delivery: "+s)),t.body.appendChild(p)}catch(e){_.err("Delivery failure from ",i.config.bidder_name," / ",i.config.bidder_unit_id,e)}else{if("function"!=typeof i.render)return _.err("No creative from ",i.config.bidder_name," / ",i.config.bidder_unit_id);i.rawbid.adUnitCode=document.getElementById(r).children[0].id,document.getElementById(i.rawbid.adUnitCode).innerHTML="",i.render(),_.rec("winner.render:"+i.id)}var f=i.resize_pad_top||!1,g=document.getElementById(r);if(g.style.textAlign="center",function(e){var t=e.getElementsByClassName("adbridg-dyn-pad");if(t.length&&_.each(t,function(e){e.parent.removeChild(e)}),f){var i=_.prepend(e,"span");i.className="adbridg-dyn-pad",i.innerHTML="&nbsp;",i.style="display:block;width:1px;height:"+f+"px;overflow:hidden;";var n=document.createElement("span");n.className="adbridg-dyn-pad",n.innerHTML="&nbsp;",n.style="display:block;width:1px;height:"+f+"px;overflow:hidden;",e.appendChild(n)}}(g),t.safeframe)try{var m=g.getElementsByTagName("iframe");_.each(m,function(e){e.contentWindow===t.source&&(_.logl("RS","RS SF element: ",e.id,i.width,i.height),_.resize_element(e,i.width,i.height),String(e.parentNode.id).match(/google_ads_iframe.*container/)&&(_.logl("RS","RS SF parent: ",e.parentNode.id,i.width,i.height),_.resize_element(e.parentNode,i.width,i.height)))})}catch(e){_.err("Frame resize fail: ",e)}else t.defaultView&&t.defaultView.frameElement&&(t.defaultView.frameElement.width=i.width,t.defaultView.frameElement.height=i.height),_.logl("RS","RS iframe: ",i.width,i.height),_.resize_iframe(window,t,i.width,i.height);v.libSettings().refresh_keep_size&&(x[r]||(x[r]={gpt:"",adb:""}),x[r].adb=o.size,_.log("SIZE REFRESH KEEPING ADB: ",r,x[r]));var h=v.libSettings().post_render;"function"==typeof h&&h(i)});var X=[];window.AdBridg.sizeMapping=_.wrapAsync(function(){var e,i=[],n=googletag.sizeMapping(),r={addSize:_.wrapAsync(function(e,t){return n.addSize(e,t),i.push([e,t]),r}),build:_.wrapAsync(function(){return e=n.build(),X.push({gpt_map:e,sizes:i}),e})};return r}),window.AdBridg.useSizeMapping=_.wrapAsync(function(e,t,i){var n,r=!1,a=e.getSlotElementId(),o=e.getAdUnitPath();for(n=X.length-1;0<=n;--n)if(X[n].gpt_map===t){r=X[n].sizes;break}if(r){var s=_.vp(),d=s.w,c=s.h,u=!1,l=[];for(n=r.length-1;0<=n;--n){var p=r[n][0];if(d>=p[0]&&c>=p[1]){if(u){if(u[0]>p[0])continue;if(u[0]==p[0]&&u[1]>p[1])continue}u=p,l=r[n][1]}}var f=Z(l,o,a),g=f.join(",");w[a]=g;var m=i||!1;if(!m)for(n=h.length-1;0<=n;--n)if(h[n].get("gpt_slot")===e){m=h[n];break}if(!m)return _.err("No unit for size map: ",o,a);m.set("gpt_sizes",g),m.restrictSizesTo(f),w[a]?_.log("Applied size mapping to ",a," / ",o,": ",g):(D[a]=1,_.log("Excluding unit ",a," / ",o," because it has no valid sizes"))}else _.err("Size mapping not found: ",o,a)}),window.AdBridg.resetInternals=function(){};var Y=!(window.AdBridg.destroySlots=function(e){e||(e=googletag.pubads().getSlots());var i=[];return _.each(e,function(e){if(e){var t=e.getSlotElementId();delete F[t],delete w[t],delete x[t],delete D[t],delete O[t],delete m[t],_.undom(t),y.trigger("gpt.destroy",e,t),i.push(t)}}),_.log("Destroyed slots: ",i),googletag.destroySlots(e)}),$=function(){if(!Y){Y=!0;var e=v.libSettings().before_gpt;"function"==typeof e&&_.wrapAsync(e)(),y.trigger("gpt.before_enable_services"),googletag.enableServices(),y.trigger("gpt.after_enable_services")}},H=!1,Q=_.wrapAsync(function(e){_.logl("wf",S,"serve called with",h.length,"pending units");var t=!1;$();for(var i=!1,n=0;h.length>n;){var r=h.shift();if(r.get("lock.lazy"))_.logl("wf",S,"serve skipped lazy",r.alias,r.get("dom_id")),n+=1,h.push(r);else{var a=r.get("dom_id");if(D[a]||!G("AS",a))if(v.configureUnit(r),r.hasBidReqConf()){if(d){var o=c.indexOf(r.id);if(0<=o){var s=!1;if(d.eachUnit(function(e){if(e.id==r.id){s=!0,c.splice(o,1),_.log("Proxy into preload ",r.alias);var t=r.get("gpt_slot"),i=r.get("dom_id"),n=w[i]||r.get("gpt_sizes")||"";e.set({dom_id:i,gpt_slot:t,gpt_sizes:n}),e.restrictSizesTo(n.split(",")),y.trigger("unit.pre_attach",e)}}),s){i=!0;continue}}}t||(t=new u),t.addUnit(r)}else B?p.push(r.get("gpt_slot")):(P([r.get("gpt_slot")]),_.thread(e)(!1,r.get("dom_id")));else _.err("Slot rejected before auction, element hidden:",a)}}(t||d)&&v.libSettings().gpt_keep_oop&&p.length&&(_.log("Batching passthrough units with auction units"),f=f.concat(p),p=[]),t&&(A.push(t),t.execute(M(e)),t=!1),i&&!H&&(H=!0,pe(M())),R()}),K=!1;window.AdBridg.serve=function(e){if(clearTimeout(K),B){_.logl("wf",S,"queuing serve");var t=v.libSettings().batch_delay;if("function"==typeof t&&(t=t(h)),0===t)return _.log("Starting auctions ASAP."),Q(e);t||(t=100),K=setTimeout(function(){Q(e)},t)}else for(var i=h.length-1;0<=i;--i){var n=h[i].get("dom_id");if(m[n]){setTimeout(function(){AdBridg.display(n)},0);break}}};var ee=function(e){for(var t,i,n=A.length-1;0<=n&&!(t=(i=A[n]).findUnit(e));--n);return!t&&d&&(t=(i=d).findUnit(e)),!!t&&{auction:i,unit:t}},te=_.wrapAsync(function(t){var e,i=t.slot.getSlotElementId();!t.isEmpty&&G("RE",i)&&_.log("Slot rendered from GPT, but element hidden by CSS:",i);try{e=t.slot,_.log("Unlocked slot: ",e.getSlotElementId()),O[e.getSlotElementId()]=!1,j(e)}catch(e){_.err("Unlock failed")}y.trigger("gpt.render_raw",t);var n=ee(function(e){return e.get("gpt_slot")===t.slot});if(v.libSettings().refresh_keep_size&&t.size&&2==t.size.length&&(x[i]||(x[i]={gpt:"",adb:""}),x[i].gpt=t.size.join("x")),n){if(!n.auction)return _.err("AUQ",t.slot.getAdUnitPath(),t.slot.getSlotElementId());b.gptRendered(n.auction,n.unit,t),y.trigger("gpt.render",n.unit,t),_.qdusp()}}),ie=_.wrapAsync(function(t){y.trigger("gpt.viewed_raw",t);var e=ee(function(e){return e.get("gpt_slot")===t.slot});if(e){b.gptViewed(e.auction,e.unit);try{var i=v.libSettings().post_view;"function"==typeof i&&i(t,e.unit)}catch(e){_.err("PostView fail",e)}y.trigger("gpt.viewed",t.slot,e.unit);var n=t.slot.getSlotElementId();G("VE",n)&&_.log("Slot viewed from GPT, but element hidden by CSS:",n)}}),ne=[],re={};window.AdBridg.lock=function(e){if(re[e])return re[e]=null,_.log("-== GPT lock already cleared: ",e);_.log("-== GPT locked by: ",e),ne.push(e)},window.AdBridg.unlock=function(e,t){for(var i=!1,n=0;n<ne.length;++n)if(ne[n]==e){_.log("-== GPT lock cleared: ",e),ne.splice(n,1),i=!0;break}i||t||(re[e]=!0,_.log("-== GPT unrecognized lock cleared: ",e)),se()};var ae=[],oe=function(e,t){ae.push({n:e,f:_.wrapAsync(t)}),se()},se=function(){if(!ne.length)for(ae.length;ae.length;){ae.shift().f()}},de=0,ce=function(){AdBridg.cmd.unshift(function(){window.AdBridg.lock("window.focus"),de<=99&&(de+=1),b.meta("wb",de)})},ue=function(){AdBridg.cmd.push(function(){window.AdBridg.unlock("window.focus",!0),b.meta("wb",0)})};window.addEventListener?(window.addEventListener("blur",ce),window.addEventListener("focus",ue)):window.attachEvent&&(window.attachEvent("onblur",ce),window.attachEvent("onfocus",ue)),_.isdebug()&&(AdBridg.auctions=A,AdBridg.utils=_);var le=_.wrapAsync(function(){y.trigger("adb.init"),googletag.pubads().addEventListener("slotRenderEnded",te),googletag.pubads().addEventListener("impressionViewable",ie),r=!0;var e=v.libSettings().initfn;for(e&&AdBridg.cmd.push(e);a.length;){var t=a.shift();AdBridg.cmd.push(t)}});window.AdBridg.lazy=function(e,t,i,n){"function"==typeof i&&(n=i,i=0),_.dom(e,t,i,n)},_.log("First execution."),v.afterConsent(function(e){if(!e||!e.gdprApplies||e.consentString){for(var t=v.libSettings().preload&&v.libSettings().preload()||[],i=function(i){var n=function(e){var t=[],i=function(e){2==e.length&&1<e[0]&&1<e[1]?t.push(e):_.err("Invalid preload size: ",e)};return _.isarr(e)&&(_.isarr(e[0])?_.each(e,i):i(e)),t},r=n(i.size||[]);return function(){var e=AdBridg.defineSlot(i.gpt_path,r,i.dom_id);if(_.isarr(i.size_map)){var t=AdBridg.sizeMapping();_.each(i.size_map,function(e){t.addSize(e.viewport,n(e.sizes))}),t=t.build(),e.defineSizeMapping(t),AdBridg.useSizeMapping(e,t)}AdBridg.serve()}},n=AdBridg.cmd.length;0<=n;n--){var r=AdBridg.cmd[n];r&&r.gpt_path&&AdBridg.cmd.splice(n,1,i(r))}t&&t.length&&(d=new u,_.each(t,function(e){if(e=parseInt(e,10),_.log("Preloading",e),e){var t=new g;if(v.configureUnit(t,e),!t.hasBidReqConf())return _.err("Preload bad id",e);c.push(e),d.addUnit(t)}}),d.hasUnit()&&(_.log("Preload kickoff",d),d.execute(_.wrapAsync(function(e){_.log("Preload complete"),o&&o(e)}))))}});var pe=function(e){d.isDone()?e(d):o=e};v.afterConsent(function(){googletag.cmd.push(function(){_.log("Initializing. SRA is",(B?"enabled":"disabled")+"."),B&&(googletag.pubads().enableSingleRequest(),googletag.pubads().disableInitialLoad()),le()})}),_.wrapAsync(function(){for(AdBridg.cmd.push=AdBridg.cmd.unshift=function(t){if("object"!=typeof t||(t.config&&(v.proc(t.config),delete t.config),!t.gpt_path&&t.events&&(_.each(t.events,function(e,t){y.on(t,e)}),delete t.events),Object.getOwnPropertyNames(t).length))if(r){if("object"==typeof t&&(t.gpt_path||t.length))try{_.log("Initialization command object processing:",t);var e=function(r){googletag.cmd.push(function(){var i;if(r.oop)i=AdBridg.defineOutOfPageSlot(r.gpt_path,r.dom_id);else if((i=AdBridg.defineSlot(r.gpt_path,r.size||[],r.dom_id))&&r.size_map){for(var e=AdBridg.sizeMapping(),t=0;t<r.size_map.length;t++)e=e.addSize(r.size_map[t].viewport,r.size_map[t].sizes);e=e.build(),i.defineSizeMapping(e),AdBridg.useSizeMapping(i,e)}if(i&&r.events){r.events["gpt.defined"]&&r.events["gpt.defined"](i);var n=function(t,e){r.events[t]&&googletag.pubads().addEventListener(e,function(e){e.slot===i&&r.events[t](i,e)})};n("gpt.rendered","slotRenderEnded"),n("gpt.viewed","impressionViewable"),n("gpt.visibilityChanged","slotVisibilityChanged")}})};if(t.length)for(var i=0;i<t.length;++i)e(t[i]);else e(t);t=function(){AdBridg.serve()}}catch(e){_.err("CmdObj fail",e)}"function"==typeof t&&setTimeout(function(){try{t.call()}catch(e){_.err("AdBridg.cmd had error: ",t,e)}},0)}else a.push(t)};AdBridg.cmd.length;){var e=AdBridg.cmd.shift();AdBridg.cmd.push(e)}})()}}},{"../analytics.js":10,"../auction.js":11,"../config.js":13,"../modules.js":15,"../unit.js":21,"../utils.js":22}],15:[function(e,t,i){var n=e("./utils.js"),r=[],a=function(e){r.push(e)},o={},s={on:function(e,t){n.isarr(e)||(e=[e]),n.each(e,function(e){o[e]||(o[e]=[]),o[e].push(t)})}};i.trigger=n.wrapAsync(function(e){var t=arguments,i=(o[e]||[]).concat(o["*"]||[]);n.each(i,n.wrapAsync(function(e){e.apply(null,t)}))});var d=!1;n.onerr(n.wrapAsync(function(){if(d)return console&&console.log("AdBridg nested module errors"),void n.pixel("//adspsp.com/$CUSTOMER_PUBLIC_ID$/500/2/1/?e=errnest");d=!0,i.trigger("error",arguments),d=!1})),i.on=n.wrapAsync(function(e,t){s.on(e,t)}),i.setup=function(e){e};try{a(new(e("./modules/lzest.js"))({},s)),a(new(e("./modules/gprog.js"))({bidders:{rubicon:{deal:"hb_deal_rubicon",adid:"hb_adid_rubicon"},ix:{deal:"hb_deal_ix",adid:"hb_adid_indexExchang"}}},s)),a(new(e("./modules/amazon.js"))({allowed_sizes:["300x250","300x600","320x50","728x90","970x250","970x90"],load_apstag:!1,init:function(e){return e.pub||AdBridg.global("HLpubreport")||(AdBridg.global("HLpubreport",1),n.log("Healthline config not detected; using globals")),{skip_init:!0}}},s))}catch(e){n.err("Module failed",e)}},{"./modules/amazon.js":16,"./modules/gprog.js":17,"./modules/lzest.js":18,"./utils.js":22}],16:[function(e,t,i){var p=e("../utils.js"),a=e("../config.js"),f=(t.exports=function(s,e){var d={},c={},o={},u=function(e){var n=[],r=s.allowed_sizes;return p.each(e,function(e,t){if(r&&-1==r.indexOf(e))return p.log("Amazon unsupported size: ",e);var i=e.split("x");i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10),n.push(i)}),n},t=!p.qs("adb_enable_amzn")&&s.test;"function"==typeof t&&(t=t());var i=s.load_apstag;"function"==typeof i&&(i=i());var n=!1,r=!1,l=function(){if(n)return t;var e=s.init;return"function"==typeof e&&(e=e(a.libSettings())),e?(n=!0,t?(p.log("Amazon disabled. Use ?adb_enable_amzn=1 to activate."),t):window.apstag?(e.skip_init||apstag.init(e),void p.log("Amazon initialized:",e)):(i||r||(p.err("Amazon library not found."),r=!0),t=!0)):(p.log("Amazon init bypassed."),!1)};t||!i||f()||(t=n=!0),e.on("unit.config",function(e,t){if(!l()){var i=t.get("dom_id"),n=t.get("gpt_slot");if(!i||!n)return p.log("Amazon skip",i,n);var r=n.getAdUnitPath()+"",a=s.get_slot_name?s.get_slot_name(r,i,n,t):(r.match(/([^\/]+)$/)||[""])[0];if(!a)return p.err("Amazon noname: ",a,i,r);var o={slotID:i,slotName:a,sizes:c[i]||u(t.all_sizes)};d[i]=o,p.log("Amazon slot configured",o,!!c[i])}}),e.on("unit.restrict_sizes",function(e,t,i){if(!l()){var n=t.get("dom_id");i=u(i),c[n]=i;var r=d[n];return r?(p.log("Amazon slot resize",r,i),void(r.sizes=i)):void 0}}),e.on("gpt.destroy",function(e,t,i){l()||(p.log("Amazon slot remove",i),delete d[i],delete c[i])}),e.on("unit.pre_attach",function(e,t){if(!l()){var i=t.get("dom_id"),n=d[i];if(!n)return p.log("Amazon preload mismatch",i);var r=t.auction,a="amazon."+t.id;r.lock(a),apstag.fetchBids({slots:[n],timeout:r.max_ms},p.wrapAsync(function(){p.log("Amazon preload response",r.id,arguments);try{apstag.setDisplayBids()}catch(e){p.err("Amazon setBids",e)}r.unlock(a)}))}}),e.on("auction.start",function(e,t){if(!l()){var n=[];if(t.eachUnit(function(e){var t=e.get("dom_id"),i=d[t];i?(n.push(i),d[t]=null):p.log("Amazon no config",t)}),n.length){var i={slots:n,timeout:t.max_ms};p.log("Amazon request",t.id,i);var r="amazon."+t.id;o[r]=!0,t.lock(r);var a=setTimeout(p.wrapAsync(function(){o[r]&&(o[r]=!1,t.unlock(r),p.err("Amazon incomplete at 50"))}),t.max_ms+50);apstag.fetchBids(i,p.wrapAsync(function(){p.log("Amazon response",t.id,arguments);try{apstag.setDisplayBids()}catch(e){p.err("Amazon setBids",e)}clearTimeout(a),o[r]&&(o[r]=!1,t.unlock(r))}))}}})},function(){p.log("Loading Amazon dependency");try{!function(i,n,e,t,r,a,o){function s(e,t){n[i]._Q.push([e,t])}n[i]||(n[i]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(a=e.createElement("script")).async=!0,a.src="//c.amazon-adsystem.com/aax2/apstag.js",(o=e.getElementsByTagName("script")[0]).parentNode.insertBefore(a,o))}("apstag",window,document)}catch(e){return p.err("Amazon load failed",e),!1}return!0})},{"../config.js":13,"../utils.js":22}],17:[function(e,t,i){var p=e("../utils"),a=e("../config"),o=e("../analytics.js");t.exports=function(u,e){if(u.bidders){var i=a.libSettings();i.gpt_clear_kvps||(i.gpt_clear_kvps=[]),p.each(u.bidders,function(e,t){i.gpt_clear_kvps.push(e.deal),i.gpt_clear_kvps.push(e.adid)});var l={};p.qs("adb_force_rubicon_pmp")&&(p.log("PMPTEST Enabled"),e.on("unit.config",function(e,t){if(t.get("gpt_slot").getAdUnitPath().match(/[DM]MR(2[^\d].*|2)?$/)){l.test={creative:decodeURIComponent("%3Chtml%3E%3Chead%3E%3Cscript%20type%3D'text%2Fjavascript'%3EinDapIF%3Dtrue%3B%3C%2Fscript%3E%3C%2Fhead%3E%3Cbody%20style%3D'margin%3A%200%3B%20padding%3A%200%3B'%3E%3C!--%20Rubicon%20Project%20Ad%20Tag%20--%3E%3Cdiv%20data-rp-impression-id%3D'55d092e3-be6e-4a3b-8084-e1ed038f2163'%3E%3Cscript%20type%3D'text%2Fjavascript'%3Erubicon_cb%20%3D%20Math.random()%3B%20rubicon_rurl%20%3D%20document.referrer%3B%20if(top.location%3D%3Ddocument.location)%7Brubicon_rurl%20%3D%20document.location%3B%7D%20rubicon_rurl%20%3D%20escape(rubicon_rurl)%3B%0Awindow.rubicon_ad%20%3D%20%223236009%22%20%2B%20%22.%22%20%2B%20%22js%22%3B%20window.rubicon_creative%20%3D%20%223266745%22%20%2B%20%22.%22%20%2B%20%22js%22%3B%20document.write(%22%3Cdiv%20data-rp-type%3D%5C%22trp-display-creative%5C%22%20data-rp-impression-id%3D%5C%2255d092e3-be6e-4a3b-8084-e1ed038f2163%5C%22%20data-rp-aqid%3D%5C%222307%3A51o99wpg%5C%22%20data-rp-acct-id%3D%5C%2211314%5C%22%3E%5Cn%3Cdiv%20style%3D%5C%22width%3A%200%3B%20height%3A%200%3B%20overflow%3A%20hidden%3B%5C%22%3E%3Cimg%20border%3D%5C%220%5C%22%20width%3D%5C%221%5C%22%20height%3D%5C%221%5C%22%20src%3D%5C%22https%3A%2F%2Fbeacon-us-iad3.rubiconproject.com%2Fbeacon%2Fd%2F55d092e3-be6e-4a3b-8084-e1ed038f2163%3Foo%3D0%26accountId%3D11314%26siteId%3D127964%26zoneId%3D604642%26sizeId%3D15%26e%3D6A1E40E384DA563B70DBF67C0FC43EF5744722F63E7D02C7D8FC667A5C18AA6C8F222C85A819FD5BA7DFD501C52C926EDBA8BBCA491012333D4EBBE4F0EDF42A953F6CC246DE5DE7148DCDA80BE1E681794A48DF0256BBD57A40C8183AF6CA27C38AB833D171CFAD48F8B3E8FD7CD2EA9CB76E59D32D35E846087CD4CCD232A00F033FA22304D56DD8A11F2D6E1AB0903B019052EF1820C509281475FE7FB96FAB5D4E31F1E0614945CA0B6326E76639561C212DC9D8CB8E60A3658FDFB5FCE0267979E3A603886F14E1CF13EF6C13C101F10087B5A068885B85C79CD23C01D8F5F001F582DFA8B7ACA3309B9EAE9211009CBDBEF7788939CDA10306204D320B%5C%22%20alt%3D%5C%22%5C%22%20%2F%3E%3C%2Fdiv%3E%5Cn%22)%3B%20rubicon_tag_code%20%3D%20%22%253cimg%2520src%3D%2522https%3A%2F%2Fuse-va1.adsrvr.org%2Fbid%2Ffeedback%2Frubicon%253fiid%3D0f298b29-8fe1-4335-9ce5-e8fd186442e8%26crid%3D51o99wpg%26wp%3D78853418C3BA21F6%26aid%3D1%26wpc%3DUSD%26sfe%3Df4ddf13%26puid%3D%26tdid%3Dcd6a2311-978a-40ab-99f9-da47e1f12667%26pid%3Dcpsla2v%26ag%3Df29w0sq%26sig%3Ds50-WT_BM5_kzr3ljrIlWWm7ZdjkXbbBLys6txRqboM.%26cf%3D749925%26fq%3D0%26td_s%3Dwww.healthline.com%26rcats%3D2ic%26mcat%3Dgc_mindshare_safe_from_unilever%26mste%3Dwww.healthline.com%26mfld%3D3%26mssi%3DNone%26mfsi%3D2p4tpx8qh2%26uhow%3D133%26agsa%3D%26rgco%3DUnited%252520States%26rgre%3DOklahoma%26rgme%3D650%26rgci%3DOklahoma%252520City%26rgz%3D73112%26svbttd%3D1%26dt%3DPC%26osf%3DWindows%26os%3DWindows10%26br%3DInternetExplorer11%26rlangs%3Den%26mlang%3D%26svpid%3D11314%26did%3DTRD-11314-001e5%26rcxt%3DOther%26lat%3D35.514400%26lon%3D-97.586500%26tmpc%3D32.84%26daid%3D%26vp%3D1%26osi%3D%26osv%3D%26bp%3D12%26mk%3DMicrosoft%26mdl%3DInternet%252520Explorer%252520-%252520Windows%26c%3DOAE.%26dur%3DCjcKHWNoYXJnZS1hbGxHcmFwZXNob3RDYXRlZ29yaWVzIhYI9___________ARIJZ3JhcGVzaG90Cj8KImNoYXJnZS1hbGxEb3VibGVWZXJpZnlCb3RBdm9pZGFuY2UiGQjn__________8BEgxkb3VibGV2ZXJpZnk.%26crrelr%3D%26ipl%3D604642%26said%3D6dbd53b5933a87011ebd9404fd133abd2aee8b63%26ict%3DUnknown%2522%2520width%3D%25221%2522%2520height%3D%25221%2522%2520style%3D%2522display%3A%2520none%253b%2522%2F%253e%253cimg%2520src%3D%2522https%3A%2F%2Fsecure-gl.imrworldwide.com%2Fcgi-bin%2Fm%253fca%3Dnlsn152337%26cr%3D51o99wpg%26ce%3Dtradedesk4%26uoo%3D0%26pc%3Df29w0sq%26c9%3Ddevid%2C%26c13%3Dasid%2CPB2FC349E-3FB8-479E-801C-1D8A735330DA%26ci%3Dnlsnci1161%26am%3D4%26at%3Dview%26rt%3Dbanner%26st%3Dimage%26r%3D553475%2522%2520width%3D%25221%2522%2520height%3D%25221%2522%2520style%3D%2522display%3A%2520none%253b%2522%2F%253e%253cdiv%2520class%3D%2522celtra-ad-v3%2522%253e%250d%250a%2520%2520%2520%2520%253c!--%2520externalCreativeId%2520%2520%2520%3D%2520raw%252051o99wpg%2520--%253e%250d%250a%2520%2520%2520%2520%253c!--%2520externalPlacementId%2520%2520%3D%2520raw%2520f29w0sq%2520--%253e%250d%250a%2520%2520%2520%2520%253c!--%2520externalSiteId%2520%2520%2520%2520%2520%2520%2520%3D%2520raw%2520www.healthline.com%2520--%253e%250d%250a%2520%2520%2520%2520%253c!--%2520externalSupplierId%2520%2520%2520%3D%2520raw%2520cpsla2v%2520--%253e%250d%250a%2520%2520%2520%2520%253c!--%2520externalSupplierName%2520%3D%2520raw%2520rubicon%2520--%253e%250d%250a%2520%2520%2520%2520%253c!--%2520externalCampaignId%2520%2520%2520%3D%2520raw%2520ufn4vrt%2520--%253e%250d%250a%2520%2520%2520%2520%253c!--%2520externalCreativeSize%2520%3D%2520raw%2520300x250%2520--%253e%250d%250a%2520%2520%2520%2520%253c!--%2520gpsLat%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%3D%2520raw%252035.5144%2520--%253e%250d%250a%2520%2520%2520%2520%253c!--%2520gpsLng%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%3D%2520raw%2520-97.5865%2520--%253e%250d%250a%2520%2520%2520%2520%253c!--%2520externalLineItemId%2520%2520%2520%3D%2520raw%2520f29w0sq%2520--%253e%250d%250a%2520%2520%2520%2520%253cimg%2520src%3D%2522data%3Aimage%2Fpng%2Cceltra%2522%2520style%3D%2522display%3A%2520none%2522%2520onerror%3D%2522%250d%250a%2520%2520%2520%2520%2520%2520%2520%2520(function(img)%2520%257b%250d%250a%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520var%2520params%2520%3D%2520%257b'clickUrl'%3A'http%3A%2F%2Finsight.adsrvr.org%2Ftrack%2Fclk%253fimp%3D0f298b29-8fe1-4335-9ce5-e8fd186442e8%26ag%3Df29w0sq%26sfe%3Df4ddf13%26sig%3Ds50-WT_BM5_kzr3ljrIlWWm7ZdjkXbbBLys6txRqboM.%26crid%3D51o99wpg%26cf%3D749925%26fq%3D0%26td_s%3Dwww.healthline.com%26rcats%3D2ic%26mcat%3Dgc_mindshare_safe_from_unilever%26mste%3Dwww.healthline.com%26mfld%3D3%26mssi%3DNone%26mfsi%3D2p4tpx8qh2%26sv%3Drubicon%26uhow%3D133%26agsa%3D%26rgco%3DUnited%252520States%26rgre%3DOklahoma%26rgme%3D650%26rgci%3DOklahoma%252520City%26rgz%3D73112%26dt%3DPC%26osf%3DWindows%26os%3DWindows10%26br%3DInternetExplorer11%26svpid%3D11314%26rlangs%3Den%26mlang%3D%26did%3DTRD-11314-001e5%26rcxt%3DOther%26tmpc%3D32.84%26vrtd%3D%26osi%3D%26osv%3D%26daid%3D%26dnr%3D0%26vpb%3D%26c%3DOAE.%26dur%3DCjcKHWNoYXJnZS1hbGxHcmFwZXNob3RDYXRlZ29yaWVzIhYI9___________ARIJZ3JhcGVzaG90Cj8KImNoYXJnZS1hbGxEb3VibGVWZXJpZnlCb3RBdm9pZGFuY2UiGQjn__________8BEgxkb3VibGV2ZXJpZnk.%26crrelr%3D%26npt%3D%26svscid%3D127964%26mk%3DMicrosoft%26mdl%3DInternet%252520Explorer%252520-%252520Windows%26ipl%3D604642%26ict%3DUnknown%26said%3D6dbd53b5933a87011ebd9404fd133abd2aee8b63%26r%3D'%2C'expandDirection'%3A'undefined'%2C'clickEvent'%3A'advertiser'%2C'iosAdvId'%3A''%2C'androidAdvId'%3A''%2C'tradedesk_zipCode'%3A'73112'%2C'tradedesk_category'%3A'gc_mindshare_safe_from_unilever'%2C'tradedesk_deviceType'%3A'PC'%2C'tradedesk_adFormat'%3A'300x250'%2C'tradedesk_advertiser'%3A'jaookqh'%2C'externalAdServer'%3A'TradeDesk'%2C'tagVersion'%3A'6'%257d%253b%250d%250a%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%255b%255d.slice.apply(img.parentNode.childNodes).forEach(function(n)%2520%257b%2520var%2520decfs%2520%3D%2520%257b%2520urldecode%3A%2520decodeURIComponent%2C%2520htmldecode%3A%2520function(v)%2520%257b%2520var%2520d%2520%3D%2520document.createElement('div')%253b%2520d.innerHTML%2520%3D%2520v%253b%2520return%2520d.textContent%253b%2520%257d%2C%2520eval%3A%2520function(v)%2520%257b%2520return%2520eval(v)%253b%2520%257d%2C%2520raw%3A%2520function(v)%2520%257b%2520return%2520v%253b%2520%257d%2520%257d%253b%2520var%2520m%253b%2520if%2520(n.nodeType%2520%3D%3D%25208%2520%26amp%253b%26amp%253b%2520(m%2520%3D%2520n.textContent.match(%2F%255e%26%252392%253bs%2B(%255b%26%252392%253bw.%255d%2B)(%26%252392%253b%255b.%2B%26%252392%253b%255d)%253f%26%252392%253bs%2B%3D%26%252392%253bs%2B(%26%252392%253bw%2B)%26%252392%253bs%2B(.*)%24%2Fi)))%2520%257b%2520try%2520%257b%2520params%255bm%255b1%255d%2B(m%255b2%255d%2520%257c%257c%2520'')%255d%2520%3D%2520decfs%255bm%255b3%255d%255d(m%255b4%255d.replace(%2F%255e%26%252392%253bs%2B%257c%26%252392%253bs%2B%24%2Fg%2C%2520''))%253b%2520%257d%2520catch%2520(e)%2520%257b%257d%2520%257d%2520%257d)%253b%250d%250a%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520var%2520req%2520%3D%2520document.createElement('script')%253b%250d%250a%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520req.id%2520%3D%2520params.scriptId%2520%3D%2520'celtra-script-'%2520%2B%2520(window.celtraScriptIndex%2520%3D%2520(window.celtraScriptIndex%257c%257c0)%2B1)%253b%250d%250a%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520params.clientTimestamp%2520%3D%2520new%2520Date%2F1000%253b%250d%250a%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520params.clientTimeZoneOffsetInMinutes%2520%3D%2520new%2520Date().getTimezoneOffset()%253b%250d%250a%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520params.hostPageLoadId%3Dwindow.celtraHostPageLoadId%3Dwindow.celtraHostPageLoadId%257c%257c(Math.random()%2B'').slice(2)%253b%250d%250a%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520var%2520qs%2520%3D%2520''%253b%250d%250a%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520for%2520(var%2520k%2520in%2520params)%2520%257b%250d%250a%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520qs%2520%2B%3D%2520'%26amp%253b'%2520%2B%2520encodeURIComponent(k)%2520%2B%2520'%3D'%2520%2B%2520encodeURIComponent(params%255bk%255d)%253b%250d%250a%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%257d%250d%250a%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520var%2520src%2520%3D%2520'https%3A%2F%2Fads.celtra.com%2Fe75f8eb5%2Fweb.js%253f'%2520%2B%2520qs%253b%250d%250a%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520req.src%2520%3D%2520src%253b%250d%250a%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520img.parentNode.insertBefore(req%2C%2520img.nextSibling)%253b%250d%250a%2520%2520%2520%2520%2520%2520%2520%2520%257d)(this)%253b%250d%250a%2520%2520%2520%2520%2522%2F%253e%250d%250a%253c%2Fdiv%253e%253cscript%2520type%3D%2522text%2Fjavascript%2522%2520src%3D%2522https%3A%2F%2Fc.evidon.com%2Fdurly.js%253f%253bad_w%3D300%253bad_h%3D250%253bcoid%3D334%253bnid%3D18029%2522%253e%253c%2Fscript%253e%253cscript%2520src%3D%2522https%3A%2F%2Fcdn.doubleverify.com%2Fdvtp_src.js%253fctx%3D715607%26cmp%3Dufn4vrt%26sid%3D45579%26plc%3Df29w0sq%26num%3D%26adid%3D%26advid%3Djaookqh%26adsrv%3D163%26region%3D30%26btreg%3D51o99wpg%26btadsrv%3D%26crt%3D51o99wpg%26crtname%3D%26chnl%3D%26unit%3D%26pid%3D%26uid%3D%26dvtagver%3D6.1.src%2522%2520type%3D%2522text%2Fjavascript%2522%253e%253c%2Fscript%253e%253cimg%2520src%3D%2522%250d%250ahttps%3A%2F%2Funilever2.demdex.net%2Fevent%253fd_event%3Dimp%26d_src%3D196524%26c_country%3DUS%26d_site%3Dwww.healthline.com%26d_creative%3D51o99wpg%26d_adgroup%3Df29w0sq%26d_placement%3D%255b%2525tp_PlacementID%2525%255d%26d_campaign%3Dufn4vrt%26d_adsrc%3Djaookqh%26d_bu%3D196525%26c_brand%3D%255b%2525tp_AdvertiserName%2525%255d%26c_campaignname%3D%255b%2525tp_CampaignName%2525%255d%26c_classification3%3D%255b%2525tp_PlacementClassifications3%2525%255d%26c_classification4%3D%255b%2525tp_PlacementClassifications4%2525%255d%26c_placementname%3D%255b%2525tp_PlacementName%2525%255d%26c_medium%3Ddisplay%26c_source%3D%255b%2525Insert%2520Macro%2525%255d%26d_bust%3D272549%2522%2520width%3D%25221%2522%2520height%3D%25221%2522%2520style%3D%2522display%3A%2520none%253b%2522%2F%253e%253cnoscript%2520class%3D%2522MOAT-thetradedeskv275874568748%253fmoatClientLevel1%3Djaookqh%26amp%253bmoatClientLevel2%3Dufn4vrt%26amp%253bmoatClientLevel3%3Df29w0sq%26amp%253bmoatClientSlicer1%3Dwww.healthline.com%26amp%253bzMoatImpressionId%3D0f298b29-8fe1-4335-9ce5-e8fd186442e8%26amp%253bzMoatCachebuster%3D693316%26amp%253bzMoatPartnerID%3Dcpsla2v%26amp%253bzMoatViewType%3D1%26amp%253bzMoatCreative%3D51o99wpg%26amp%253bzMoatDealID%3DTRD-11314-001e5%26amp%253bzMoatSupplyVendor%3Drubicon%26amp%253bzMoatSite%3Dwww.healthline.com%26amp%253bmoatClientLevel4%3D-%2522%253e%253c%2Fnoscript%253e%253cscript%2520src%3D%2522https%3A%2F%2Fz.moatads.com%2Fthetradedeskv275874568748%2Fmoatad.js%2523moatClientLevel1%3Djaookqh%26moatClientLevel2%3Dufn4vrt%26moatClientLevel3%3Df29w0sq%26moatClientSlicer1%3Dwww.healthline.com%26zMoatImpressionId%3D0f298b29-8fe1-4335-9ce5-e8fd186442e8%26zMoatCachebuster%3D693316%26zMoatPartnerID%3Dcpsla2v%26zMoatViewType%3D1%26zMoatCreative%3D51o99wpg%26zMoatDealID%3DTRD-11314-001e5%26zMoatSupplyVendor%3Drubicon%26zMoatSite%3Dwww.healthline.com%26moatClientLevel4%3Dhttps%25253A%25252F%25252Finsight.adsrvr.org%25252Fenduser%25252Fpie%25252F%25253Fpie%25253D20%252526vet%25253DVIEWABILITY_EVENT_TYPE%252526rtb%25253DaWlkPTBmMjk4YjI5LThmZTEtNDMzNS05Y2U1LWU4ZmQxODY0NDJlOCZjcmlkPTUxbzk5d3BnJndwPSR7QVVDVElPTl9QUklDRTpCRn0mYWlkPTEmd3BjPVVTRCZzZmU9ZjRkZGYxMyZwdWlkPSZwaWQ9Y3BzbGEydiZhZz1mMjl3MHNxJmNmPTc0OTkyNSZmcT0wJnRkX3M9d3d3LmhlYWx0aGxpbmUuY29tJnJjYXRzPTJpYyZtY2F0PWdjX21pbmRzaGFyZV9zYWZlX2Zyb21fdW5pbGV2ZXImbXN0ZT13d3cuaGVhbHRobGluZS5jb20mbWZsZD0zJm1zc2k9Tm9uZSZtZnNpPTJwNHRweDhxaDImdWhvdz0xMzMmYWdzYT0mcmdjbz1Vbml0ZWQlMjBTdGF0ZXMmcmdyZT1Pa2xhaG9tYSZyZ21lPTY1MCZyZ2NpPU9rbGFob21hJTIwQ2l0eSZyZ3o9NzMxMTImc3ZidHRkPTEmZHQ9UEMmb3NmPVdpbmRvd3Mmb3M9V2luZG93czEwJmJyPUludGVybmV0RXhwbG9yZXIxMSZybGFuZ3M9ZW4mbWxhbmc9JnN2cGlkPTExMzE0JmRpZD1UUkQtMTEzMTQtMDAxZTUmcmN4dD1PdGhlciZsYXQ9MzUuNTE0NDAwJmxvbj0tOTcuNTg2NTAwJnRtcGM9MzIuODQmZGFpZD0mdnA9MSZvc2k9Jm9zdj0mYnA9MTImc3ZzY2lkPTEyNzk2NCZtaz1NaWNyb3NvZnQmbWRsPUludGVybmV0JTIwRXhwbG9yZXIlMjAtJTIwV2luZG93cyZjPU9BRS4mZHVyPUNqY0tIV05vWVhKblpTMWhiR3hIY21Gd1pYTm9iM1JEWVhSbFoyOXlhV1Z6SWhZSTlfX19fX19fX19fX0FSSUpaM0poY0dWemFHOTBDajhLSW1Ob1lYSm5aUzFoYkd4RWIzVmliR1ZXWlhKcFpubENiM1JCZG05cFpHRnVZMlVpR1Fqbl9fX19fX19fX184QkVneGtiM1ZpYkdWMlpYSnBabmsuJmNycmVscj0maXBsPTYwNDY0MiZzYWlkPTZkYmQ1M2I1OTMzYTg3MDExZWJkOTQwNGZkMTMzYWJkMmFlZThiNjMmaWN0PVVua25vd24mc3Y9cnViaWNvbg..%2522%2520type%3D%2522text%2Fjavascript%2522%253e%253c%2Fscript%253e%22%3B%20rubicon_tag_code%20%3D%20rubicon_tag_code.replace(%2F%23%23RUBICON_CB%23%23%2Fg%2Crubicon_cb)%3B%20document.write(unescape(rubicon_tag_code))%3B%20document.write(%22%5Cn%3C%2Fdiv%3E%5Cn%5Cn%5Cn%5Cn%5Cn%5Cn%5Cn%22)%3B%3C%2Fscript%3E%3C%2Fdiv%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),width:300,height:250,extras:{dealid:555342},config:{bidder_name:"rubicon",unit:t}};var i=u.bidders.rubicon;t.settings.gprog=t.settings.gprog||{},t.settings.gprog[i.deal]="555342",t.settings.gprog[i.adid]="test",p.log("PMPTEST - set gprog",t.settings.gprog)}}));var n=p.wrapAsync(function(e,t){if(p.log("Gprog Deal Render Ad",t,l[t]),o.gprog(["render"]),l[t]){var i=l[t];AdBridg.render(e,i),l[t]=!1,o.gprog(["render2",{config:i.config.unit.alias,bidder:i.config.bidder_name,size:i.width+"x"+i.height,extras:i.extras}])}else p.err("GprogBadDealid",t)}),r=window.top;r.pbjs=r.pbjs||{},r.pbjs.renderAd=n,e.on("auction.complete",function(e,t){!r.pbjs.renderAd!==n&&(r.pbjs.renderAd=n),t.eachBidRequest(function(i,n){var r=n.bidder_name,e=u.bidders[r];if(e){var a=e.deal,o=e.adid,t=i.get("gpt_slot"),s=i.get("dom_id");if(t&&s&&a&&o){var d=[],c=[];p.each(n.responses,function(e){if(e.extras&&e.extras.dealid){var t=n.id;l[t]&&l[t].creative!=e.creative&&p.err("GprogOWcreative"),l[t]=e,d.push(e.extras.dealid),c.push(n.id),p.log("GprogDeal ("+r+"): ",i.alias,"/",s,a,"=",e.extras.dealid,";",o,"=",n.id)}}),d.length&&(i.settings.gprog=i.settings.gprog||{},i.settings.gprog[a]=d,i.settings.gprog[o]=c)}}})}),e.on("gpt.set_targeting",function(e,t,i){t.settings.gprog&&p.each(t.settings.gprog,function(e,t){i.setTargeting(t,i.getTargeting(t).concat(e)),o.gprog(["set",t])})})}}},{"../analytics.js":10,"../config":13,"../utils":22}],18:[function(e,t,i){var a=e("../utils");t.exports=function(e,t){var n={},i={},r=e.offset_distance?e.offset_distance:400;t.on("auction.start",function(e,t){t.eachUnit(function(e){var t=e.get("dom_id");if(!t)return a.err("LzEstNoDom",e.alias);n[t]="lzno",i[t]&&(a.logl("lz","LzEst removing previous",t),a.undom(t,i[t])),i[t]=function(){a.logl("lz","LzEst triggered",t),n[t]="lzyes"},a.logl("lz","LzEst listen",t),a.dom(t,r,0,i[t]),a.log("LAZY MEASUREMENT",t,a.where(t))})}),t.on("gpt.set_targeting",function(e,t,i){t.setImpData("lz",n[t.get("dom_id")]||"lzna")})}},{"../utils":22}],19:[function(e,t,i){var s=e("./utils.js");function n(e){var t=this,i=e.url,n=e.config,r=e.id,a=e.callback,o=e.loaded;this.url=i,this.config=n,this.handlers={},this.id=r,this.loaded=o,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):s.err("Commands given to Renderer.push must be wrapped in a function")},this.callback=a||function(){t.loaded=!0,t.process()},s.load(i,this.callback,!0)}n.install=function(e){return new n({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded})},n.prototype.getConfig=function(){return this.config},n.prototype.setRender=function(e){this.render=e},n.prototype.setEventHandlers=function(e){this.handlers=e},n.prototype.handleVideoEvent=function(e){var t=e.id,i=e.eventName;"function"==typeof this.handlers[i]&&this.handlers[i](),s.log("Prebid Renderer event for id "+t+" type "+i)},n.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(e){s.err("Error processing Renderer command: ",e)}},t.exports=n},{"./utils.js":22}],20:[function(e,t,i){var n,p=e("./ajax.js"),f=e("./utils.js"),r=e("./renderer.js"),a=e("./adapterManager"),g={auction:void 0,gdpr_consent_object:void 0},m=function(e){return 2===e.length?e:e.split("x").map(Number)},h=function(e){var t="GET"===e.method&&("object"==typeof e.data?f.toqs(e.data,!0):e.data);return{method:e.method,url:"GET"===e.method&&t?[e.url,"?",t].join(""):e.url,withCredentials:!1!==(e.options&&e.options.withCredentials),parseResponseJson:!0,data:"POST"===e.method&&("object"==typeof e.data?JSON.stringify(e.data):e.data),contentType:(e.options||{}).contentType}},o=function(e,t){return["<style>",".native-wrap{text-decoration: none;color:#000;font-family:sans-serif;}",".native-image{border:0;margin-right:1em;max-width:",t.config.size.split("x")[0]>>2,"px;max-height:",t.config.size.split("x")[1],"px;width:auto;height:auto;float:left;}",".native-sponsor{font-size:x-small;text-align:center;text-transform:uppercase;margin-bottom:0.5em;}",".native-title{font-size:larger;font-weight:bold;margin-bottom:0.5em;}",".native-body{margin-bottom:0.5em;}",".native-body2{margin-bottom:0.5em;}",".native-icon{width:1.5em;vertical-align:middle;}",'</style><a class="native-wrap" href="',e.clickUrl,'">',(e.impressionTrackers||[]).map(function(e){return['<img src="',e,'" style="display:none">'].join("")}).join(""),'<img class="native-image" alt="',e.title,'" src="',e.image.url,'"><div class="native-sponsor">sponsored advertisement from ',e.icon?['<img class="native-icon" alt="',e.sponsoredBy,'" src="',e.icon.url,'"> '].join(""):"",e.sponsoredBy,"</div>",'<div class="native-title">',e.title,"</div>",'<div class="native-body">',e.body,"</div>",'<div class="native-body2">',e.body2,"</div>","</a>"].join("")},_=function(e,t){return{creative:e.ad||(e.native?(i=e.native,n=t,(n.unit.settings&&n.unit.settings.nativeTemplate||o)(i,n)):void 0),vastUrl:e.vastUrl,vastXml:e.vastXml,cpm:e.cpm,width:e.native?0|t.config.size.split("x")[0]:e.width,height:e.native?0|t.config.size.split("x")[1]:e.height,extras:{dealid:e.deal_id,crid:e.creativeId,adv_id:e.adv_id,brand_id:e.brand_id,mediaType:e.mediaType},render:e.renderer&&e.renderer.render&&e.renderer.render.bind(e.renderer,e),rawbid:e};var i,n},s=function(e,t){var i=document.createElement("a");t&&t.noDecodeWholeURL?i.href=e:i.href=decodeURIComponent(e);var n,r=t&&t.decodeSearchAsString;return{href:i.href,protocol:(i.protocol||"").replace(/:$/,""),hostname:i.hostname,port:+i.port,pathname:i.pathname.replace(/^(?!\/)/,"/"),search:r?i.search:(n=i.search||"",n?n.replace(/^\?/,"").split("&").reduce(function(e,t){var i=t.split("="),n=i[0],r=i[1];return/\[\]$/.test(n)?(e[n=n.replace("[]","")]=e[n]||[],e[n].push(r)):e[n]=r||"",e},{}):{}),hash:(i.hash||"").replace(/^#/,""),host:i.host||window.location.host}},v={utils:{inIframe:function(){return!f.url().is_top},_map:function(i,n){if(!i)return[];if("function"==typeof i.map)return i.map(n);var r=[];return f.each(i,function(e,t){r.push(n(e,t,i))}),r},deepAccess:function(e,t){return t.split(".").reduce(function(e,t){return(e||{})[t]},e)},deepSetValue:function(e,t,r){return t.split(".").reduce(function(e,t,i,n){return i===n.length-1?e[t]=r:e[t]=e[t]||{}},e)},getTopWindowLocation:function(){return window.location},getTopWindowReferrer:function(){return f.url().referrer},getTopWindowUrl:function(){return f.url().href},getWindowSelf:function(){return window.self},getWindowTop:function(){return window.top},isArray:function(e){return Array.isArray(e)},parseSizesInput:function(e){return e.map(function(e){return e.join("x")})},_each:f.each,cookiesAreEnabled:function(){return navigator.cookieEnabled},logError:f.err,logWarn:f.log,logMessage:f.log,logInfo:f.log,getBidIdParameter:function(e,t){return t&&t[e]||""},getUniqueIdentifierStr:(n=0,function(){return++n+Math.random().toString(16).substr(2)}),convertCamelToUnderscore:function(e){return e.replace(/(?:^|\.?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")},convertTypes:function(n,r){return f.each(n,function(e){var t=n[e],i=n[e];r[e]="function"==typeof t?i(i):"string"===t?i&&i.toString():"number"===t?Number(i):i,isNaN(r[e])&&delete r[e]}),r},createTrackPixelHtml:f.pixelh,isEmpty:function(e){if(!e)return!0;if(Array.isArray(e)||"string"==typeof e)return!e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},transformBidderParamKeywords:function(e,t){var n=[];return f.each(e,function(e,t){var i={key:t};Array.isArray(e)&&(i.value=e.map(function(e){return e+""})),null!=e&&(i.value=[e+""]),i.hasOwnProperty("value")&&n.push(i)}),n},tryAppendQueryString:function(e,t,i){return i?e+(t+"=")+encodeURIComponent(i)+"&":e},getValueString:function(e,t,i){return null==t?i:"string"==typeof t?t:t.toString()},isStr:function(e){return"string"==typeof e},assign:f.assign,isInteger:Number.isInteger||function(e){return Math.floor(e)===e&&isFinite(e)},isNumber:function(e){return"number"==typeof e},groupBy:function(e,i){return e.reduce(function(e,t){return(e[t[i]]=e[t[i]]||[]).push(t),e},{})},deepClone:function n(r){return Object.keys(r).reduce(function(e,t){var i={}.toString.call(r[t]).slice(8,-1);return e[t]="Array"===i?n(r[t]):"Object"===i?n(r[t]):"Date"===i?new Date(r[t].getTime()):"RegExp"===i?new RegExp(r[t]):r[t],e},Array.isArray(r)?[]:{})},flatten:function(e,t){return e.concat(t)},chunk:function(e,n){return e.reduce(function(e,t,i){return i%n?e[e.length-1].push(t):e.push([t]),e},[])},fill:function(e,t){for(var i=[];i.length<t;i.push("object"==typeof e?v.utils.deepClone(e):e));return i},getMaxValueFromArray:Function.apply.bind(Math.max,0),getMinValueFromArray:Function.apply.bind(Math.min,0),isArrayOfNums:function(e,t){return e.length===(t||e.length)&&e.reduce(function(e,t){return e&&"number"==typeof t},!0)},generateUUID:f.genUUID,getBidRequest:function(i,e){return find(e,function(e){return e.bids.some(function(t){return["bidId","adId","bid_id"].some(function(e){return t[e]===i})})})},insertUserSyncIframe:function(e){f.uspf("S2S",e)},triggerPixel:function(e){f.uspi("S2S",e)},uniques:function(e,t,i){return i.indexOf(e)===t},contains:function(e,t){return 0<e.length&&-1!==e.indexOf(t)},timestamp:function(){return(new Date).getTime()},getDNT:function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},getCookie:f.cr,isGptPubadsDefined:function(){return window.googletag&&"function"==typeof window.googletag.pubads&&"function"==typeof window.googletag.pubads().getSlots},isSlotMatchingAdUnitCode:function(t){return function(e){return e.getAdUnitPath()===t||e.getSlotElementId()===t}}},url:{parse:s},REPO_AND_VERSION:"prebid_prebid_1.19.0-pre",BANNER:"banner",VIDEO:"video",NATIVE:"native",ADPOD:"adpod",config:{config:{},getConfig:function(e){switch(e){case"pageUrl":return f.url().href;case"bidderTimeout":return g.auction.max_ms;case"consentManagement.cmpApi":return g.gdpr_consent_object.cmpApi;default:return v.config.config[e]}},bidders:null,js:null,setDefaults:function(e){if("object"!=typeof defaults)return f.err("defaults must be an object");f.assign(v.config.config,e)}},parse:s,registerBidder:function(e){},userSync:{registerSync:function(e,t,i){var n="image"===e?f.uspi:"iframe"===e?f.uspf:void 0;n?n(t,i):f.err(["Unknown sync type: ",e," from ",t].join(""))}},includes:function(e,t){return-1!==e.indexOf(t)},find:function(e,t){return e.filter(t)[0]},Renderer:r,EVENTS:{BID_RESPONSE:"bidResponse",BIDDER_DONE:"bidderDone"},loadExternalScript:function(e,t){f.log("module "+t+"is loading external JavaScript"),f.load(e,null,!0)},adloader:{loadScript:f.load},Adapter:function(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}},S2S:{SRC:"s2s"},STATUS:{GOOD:1,NO_BID:2},S2S_VENDORS:{appnexus:{adapter:"prebidServer",cookieSet:!1,enabled:!0,endpoint:"//prebid.adnxs.com/pbs/v1/openrtb2/auction",syncEndpoint:"//prebid.adnxs.com/pbs/v1/cookie_sync",timeout:1e3},rubicon:{adapter:"prebidServer",cookieSet:!1,enabled:!0,endpoint:"//prebid-server.rubiconproject.com/openrtb2/auction",syncEndpoint:"//prebid-server.rubiconproject.com/cookie_sync",timeout:500}},adaptermanager:a,ajax:function(e,n,t,i){f.ajax(f.assign({},i,{data:t,url:e}),function(e,t,i){e&&n.error?n.error(e.err,e):n.success?n.success(t,i):n(t)})},bidfactory:{createBid:e("./bidFactory.js").createBid},cookieSet:function(e){f.load(e,null,!0)},events:{emit:function(){}},isValid:function(e,t,i){return!0},getIabSubCategory:function(e,t){return null}};v.isArray=v.utils.isArray,v.isInteger=v.utils.isInteger,t.exports={wrap:function(l){return function(s,d,c,u){this.execute=function(t){g.auction=t,g.gdpr_consent_object=u;var e=function(s,e,d,c){var u=[];if(s.eachBidRequest(e,function(e,t){var i={};f.assign(i,d,t.params),delete i.adjust,i[c]=t.bidder_unit_id,i.bidFloor=t.min_cpm,i.bidfloor=t.min_cpm;var n=t.all_sizes.map(m),r=t.mediaTypes||e.settings&&e.settings.mediaTypes||{banner:{sizes:n}};i.video=r.video;var a=f.genUUID(),o={pubcid:e.get("mod_pubcid")};u.push({adUnitCode:e.get("dom_id"),auctionId:s.id,bidId:t.id,bidder:t.bidder_name,bidderRequestId:t.id,crumbs:o,userId:o,mediaTypes:r,nativeParams:r.native||t.nativeParams,params:i,sizes:1===Object.keys(r).length&&r.native?[]:n,transactionID:a,transactionId:a})}),0!==u.length)return u.forEach(function(e,t,i){e.bidRequestsCount=i.length}),{bidderRequest:{auctionId:s.id,auctionStart:s.jsts,bidderCode:e,bidderRequestId:u[0].bidderRequestId,bids:u,gdprConsent:g.gdpr_consent_object,start:s.start,timeout:s.max_ms,doneCbCallCount:0,refererInfo:{referer:f.url().href,stack:[f.url().href],reachedTop:window.top===window,numIframes:0|!(window.top===window)}},bidRequests:u}}(t,s,c,l.unitIDKey),r=f.wrapAsync(l.spec.buildRequests,void 0,l.spec)(e.bidRequests,e.bidderRequest);Array.isArray(r)||(r=[r]);var i,n,a=[],o=(i=s,n={},t.eachBidRequest(i,function(e,t){n[t.id]={config:t,unit:e}}),n);r.map(h).forEach(function(e,n){e.max_ms=t.ajax_ms,p(e,f.wrapAsync(function(e,t){if(a.push(t),!e&&t){var i=f.wrapAsync(l.spec.interpretResponse,void 0,l.spec)({body:t},r[n]);Array.isArray(i)||(i=[i].filter(Boolean)),i.forEach(function(e){var t,i,n=o[e.requestId];if(!n)return f.err(["unrequested response from",s,":",JSON.stringify(e)].join(" "));t=e,i=n.config,t.ad||t.native||t.renderer||(t.vastUrl||t.vastXml)&&i.renderer?n.unit.addBid(n.config,_(e,n)):n.unit.addEmptyBid(n.config),n.found=!0})}a.length===r.length&&(Object.keys(o).map(function(e){return o[e]}).filter(function(e){return!e.found}).forEach(function(e){e.unit.addEmptyBid(e.config)}),[].concat(l.spec.getUserSyncs&&f.wrapAsync(l.spec.getUserSyncs,void 0,l.spec)({syncEnabled:!0,pixelEnabled:!0,iframeEnabled:!0},a.map(function(e){return{body:e}}))||[]).forEach(function(e){v.userSync.registerSync(e.type,d,e.url)}))}))})}}},polyfills:v}},{"./adapterManager":1,"./ajax.js":9,"./bidFactory.js":12,"./renderer.js":19,"./utils.js":22}],21:[function(e,t,i){var B=e("./utils"),T=e("./analytics"),k=e("./modules"),C=e("./config");t.exports=function(e){this.id=0,this.alias="",this.size="",this.other_sizes=[],this.min_cpm=0,this.max_ms=0,this.settings={},this.unique_id=B.genID("U"),this.auction=!1,this.all_sizes=[],this.original_sizes=[];var y=this,u={},w={},l=0,n={},x=[],p={},r=!1,D=!1,t=!1,z=!1,f=!1,a=[];this.init=function(){e&&y.set(e)},this.restrictSizesTo=function(e){y.all_sizes=y.original_sizes,B.logl("sz","Unit",y.alias,"restrict sizes to",JSON.stringify(e)," old _allowed_sizes",JSON.stringify(f)),f=e,a.length&&y.allowSizes(a);for(var t=[],i=y.all_sizes.length-1;0<i;--i)if(-1===f.indexOf(y.all_sizes[i])){var n=y.all_sizes[i];y.all_sizes.splice(i,1);var r=y.other_sizes.indexOf(n);0<=r&&y.other_sizes.splice(r,1),t.push(n)}B.logl("sz","Unit",y.alias,"removed sizes",JSON.stringify(t),"allowed sizes",JSON.stringify(f)),k.trigger("unit.restrict_sizes",y,f,t)},this.allowSizes=function(e){a=[],B.each(e,function(e){B.logl("sz","Unit size added",y.alias,e),f&&-1==f.indexOf(e)&&f.push(e),-1==a.indexOf(e)&&a.push(e),-1==y.other_sizes.indexOf(e)&&y.other_sizes.push(e),-1==y.all_sizes.indexOf(e)&&y.all_sizes.push(e)}),B.logl("sz","Unit",y.alias,"allowed sizes",a),k.trigger("unit.allow_sizes",y,a)},this.configure=function(e){for(var t in e)"unique_id"!=t&&"auction"!=t&&("settings"!=t?y.hasOwnProperty(t)&&"function"!=typeof y[t]&&(y[t]=JSON.parse(JSON.stringify(e[t]))):B.each(e[t],function(e,t){y.settings[t]=e}));y.all_sizes=[y.size].concat(y.other_sizes),y.original_sizes=[].concat(y.all_sizes),B.logl("sz","Unit definition original_sizes=",JSON.stringify(y.original_sizes),"size=",JSON.stringify(y.size),"other_sizes=",JSON.stringify(y.other_sizes)),B.qs("adb_force_bidder")&&(y.min_cpm=0),k.trigger("unit.config",y)},this.addBidder=function(e,t){p[e]=t},this.eachBidder=function(e){for(var t in p)p.hasOwnProperty(t)&&u[t]&&e(t,p[t])},this.hasBidReqConf=function(){return 0<l},this.addBidReqConf=function(e,t,i){var n={id:B.genID("BR"),unit:y,adjust:1,bidder_name:e,bidder_id:t.bidder_id,bidder_unit_id:t.bidder_unit_id,min_cpm:y.min_cpm,size:y.size,other_sizes:y.other_sizes,all_sizes:[],responses:[],late_responses:[],test:t.test};if(p[e]){var r;for(r in y.settings)y.settings.hasOwnProperty(r)&&(n[r]=y.settings[r]);for(r in t.settings)t.settings.hasOwnProperty(r)&&(n[r]=t.settings[r]);for(r in p[e].settings)p[e].settings.hasOwnProperty(r)&&(n[r]=p[e].settings[r]);n.params={},B.assign(n.params,t.settings),1!=n.adjust&&(n.min_cpm=Number((n.min_cpm/n.adjust).toFixed(2)));var a=[],o=!1;if("function"==typeof t.mutate&&a.push({n:"BidReq",f:t.mutate}),"function"==typeof p[e].mutate&&a.push({n:"Bidder",f:p[e].mutate}),B.each(a,function(e){e.f(n,i)||(o=!0,B.log(e.n+" mutate rejected BR: ",n))}),!o)if(!n.test||B.qsab(e,n.bidder_id,!0)){if(t.settings.size?n.other_sizes=[]:"string"==typeof n.other_sizes&&(n.other_sizes=n.other_sizes?n.other_sizes.split(","):[]),f){var s=[];0<=f.indexOf(n.size)&&s.push(n.size);for(var d=0;d<n.other_sizes.length;++d){var c=n.other_sizes[d];0<=f.indexOf(c)&&s.push(c)}if(!s.length)return void(f.length&&B.log("Unit ",y.alias," skipped configuration for ",n.bidder_name," because it does not support any of these sizes: ",f));n.size=s[0],n.other_sizes=s.slice(1)}n.all_sizes=[n.size].concat(n.other_sizes),B.logl("sz","Bid request sizes:",n.all_sizes),u[e]||(u[e]=[]),u[e].push(n),w[n.id]=n,++l,k.trigger("unit.config_brc",y,n)}else B.log("Test configuration skipped: ",n)}else B.err("BR missing bidder",e)},this.eachBidReqConf=function(e,t){"function"==typeof e&&(t=e,e=!1),e?B.each(u[e],t):B.each(w,t)},this.getBidReqConf=function(e){return w[e]||!1},this.set=function(e,t){if("object"!=typeof e)n[e]=t;else for(var i in e)e.hasOwnProperty(i)&&y.set(i,e[i])},this.setImpData=function(e,t,i){var n=y.get("adb_imp_data")||{};n[e]=i&&n[e]||t,y.set("adb_imp_data",n)},this.get=function(e){return n[e]},this.halt=function(){D=!0},this.onReady=function(e){t=e,A()};var A=function(){z&&t&&setTimeout(function(){t(y)},0)};this.markEmpty=function(e){y.eachBidReqConf(e,function(e){e.responses.length||y.addEmptyBid(e)})},this.addEmptyBid=function(e){if("number"==typeof e||"string"==typeof e){var t=e;if(!(e=w[t]))return void B.err("Could not find bid req: ",t)}e.responses.length||D&&e.late_responses.length||y.addBid(e,{})};var S=function(e,t){return e._bid_cpm==t._bid_cpm&&e.width==t.width&&e.height==t.height&&e.creative==t.creative};this.addBid=function(e,t){if(!e||!y.getBidReqConf(e.id))return B.err("Bid request from ",e.bidder_name,"not found on unit",y.id),!1;var i=Number(parseFloat(t.cpm).toFixed(2))||0,n=Number(t.width)||0,r=Number(t.height)||0,a=t.creative||"",o=t.creative_url||"",s=t.extras||{},d=t.force||!1,c=t.render,u=t.vastUrl,l=t.vastXml,p=t.rawbid;i||(t.empty=!0);var f=Number((i*e.adjust).toFixed(2)),g=e.min_cpm;0<g&&f<g&&(f=0);var m=C.libSettings().pubchkcreativefn;a&&"function"==typeof m&&!m(e,t,C.libSettings())&&(B.log("Creative blocked: ",e.bidder_id,n,r,f,s),f=0);var h=B.dts(),_={id:y.id+"."+B.genID("B"),ms:Math.round(h-y.auction.ts),ts:h,config:e,viable:!D,cpm:f,_min_cpm:g,_bid_cpm:i,force:d,width:n,height:r,creative:a,creative_url:o,extras:s,render:c,vastUrl:u,vastXml:l,rawbid:p};if(function(e,t){var i;for(i=0;i<e.responses.length;++i)if(S(t,e.responses[i]))return!0;for(i=0;i<e.late_responses.length;++i)if(S(t,e.late_responses[i]))return!0;return!1}(e,_))return B.log("Unit ",y.alias,"ignored duplicate bid from ",e.bidder_name," on BR ",e.id,": ",_.ms,_.width+"x"+_.height,_.cpm.toFixed(2)),!1;var v=_.viable?"":"late ";if(!_.cpm&&0<_._bid_cpm){var b=1!=e.adjust?" * "+e.adjust+" = "+Number((_._bid_cpm*e.adjust).toFixed(2)):"";v+="below-floor ("+_._bid_cpm+b+" < "+_._min_cpm+") "}else t.empty&&(v+="empty ");return B.log("Unit ",y.alias,"got",v+"bid from ",e.bidder_name," on BR ",e.id,": ",_.ms,_.width+"x"+_.height,_.cpm.toFixed(2)),k.trigger("bid.ready",_),_.viable?(e.responses.push(_),x.push(_),function(){if(!D){for(var e in w){var t=w[e];if(t.responses&&!t.responses.length)return}z=!0,A()}}()):(e.late_responses.push(_),T.lateBid(_)),_},this.getWinner=function(){if(!r){"function"==typeof C.libSettings().filter_bid&&B.wrapAsync(C.libSettings().filter_bid),B.each(x,function(t){k.trigger("bid.auction_close_filter",y,t),t.blocked&&(t.cpm=0,B.log("Bid filtered out",y.alias,t.config.bidder_name,t.blocked));var e=t.width+"x"+t.height;if(t.cpm&&f&&f&&-1==f.indexOf(e))return B.log("Unit ",y.alias,"rejected",t.config.bidder_name,"invalid size",e),void B.err("U",y.id," B",t.config.bidder_id+"."+t.config.bidder_unit_id,e,f);var i=t.cpm&&(!r||t.cpm>r.cpm||t.cpm==r.cpm&&.5<Math.random());if(r&&r.force&&(i=!1),t.force||i){r=t;try{var n=function(e){"string"==typeof t[e]&&(t[e]=t[e].replace(/\$\{AUCTION_PRICE\}/g,t.cpm))};n("creative"),n("creative_url")}catch(e){B.err("Macro failed: ",e)}}}),r&&(B.log("Unit ",y.alias,"set winner to ",r.config.bidder_name,r.width+"x"+r.height,r.cpm.toFixed(2)),k.trigger("bid.auction_winner",r))}return r},this.init()}},{"./analytics":10,"./config":13,"./modules":15,"./utils":22}],22:[function(e,t,p){var n;p.wrapAsync=function(e,t,i){return function(){try{return e.apply(i||this,arguments)}catch(e){t?t(e):p.err("Caught AsyncErr: ",e)}}},p.thread=function(t){return t=p.wrapAsync(t),function(){var e=arguments;setTimeout(function(){t.apply(this,e)},0)}},p.attempt=function(e,t){try{return e()}catch(e){}return t};var i=1,r=function(e){return e||(e=document.readyState),{loading:1,interactive:2,complete:3}[e]||0},a=(new Date).getTime(),o=function(){try{a-=Math.round(performance.now()),o=function(){return r()+"T"+Math.round(performance.now()).toString(36)},n=[i,a.toString(36),o()]}catch(e){o=function(){return r()+"T"+Math.max(0,(new Date).getTime()-a).toString(36)},n=[i=0,a.toString(36),r()+"T0"]}};o();var f=function(e,t,i){return e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i),i};f(document,"readystatechange",function(){var e,t,i;3==r()&&(e=document,t="readystatechange",i=arguments.callee,e.removeEventListener?e.removeEventListener(t,i):e.detachEvent&&e.detachEvent("on"+t,i)),n.push(o())}),p.perfts=function(){return o()},p.pgts=function(){return n},p.dts=function(){return i?Number(performance.now().toFixed(2)):Number(Math.max(0,(new Date).getTime()-a).toFixed(2))};var s=0;p.genID=function(e){return(e||"")+ ++s+Math.random().toString(16).substr(2)},p.vp=function(){var e,t,i,n=document;try{e=window.innerWidth,t=window.innerHeight,i=window.pageYOffset}catch(e){}return{w:e||(n.documentElement&&n.documentElement.clientWidth||n.body&&n.body.clientWidth)||0,h:t||(n.documentElement&&n.documentElement.clientHeight||n.body&&n.body.clientHeight)||0,y:i||n.body&&n.body.scrollTop||0}},p.cr=function(e){var t=String(document.cookie).match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t=t?decodeURIComponent(t[2]):""},p.cw=function(e,t,i){if(0<(i=i||1)){var n=new Date;n.setTime(n.getTime()+864e5*i),exp_string=n.toGMTString()}else exp_string="max-age=-99999";document.cookie=e+"="+encodeURIComponent(t)+";"+exp_string+";path=/;domain=."+window.location.hostname.replace(/.*?([^.]+\.[^.]+)$/,"$1")};try{var d="adbct";p.cw(d,1),p.cookies=!!p.cr(d),p.cw(d,"",-1)}catch(e){}try{p.safari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}catch(e){}p.https=!("https:"!=location.protocol),p.genUUID=function(e){try{return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,p.genUUID)}catch(e){return 0}},p.qs=function(e){var t=new RegExp(e+"=([^&]+)");return(String(window.location.search).match(t)||[]).pop()};var c=p.qs("adb_force_bidder"),u=p.qs("adb_allow_bidder"),l=[];c&&"*"!=c&&(l=l.concat(c.split(","))),u&&"*"!=u&&(l=l.concat(u.split(","))),p.qsab=function(e,t,i){return t=String(t),"*"==u||"*"==c||(i?0<=l.indexOf(t)||0<=l.indexOf(e):!c||(0<=l.indexOf(t)||0<=l.indexOf(e)))},p.qsappend=function(e,t,i,n){return n&&!t?"":(i&&(t=encodeURIComponent(t)),"&"+e+"="+t)},p.toqs=function(e,i){var n="";return p.each(e,function(e,t){p.isarr(e)?p.each(e,function(e){n+=p.qsappend(t+"[]",e,i)}):n+=p.qsappend(t,e,i)}),n.replace(/^\&/,"")},p.each=function(e,t){if(e&&0!==e.length)if(e.length)for(var i=0;i<e.length;++i)t(e[i],i);else for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},p.resize_element=function(e,t,i){e.style.width&&String(e.style.width).replace("px","")!=t&&(e.style.width=t+"px"),e.style.height&&String(e.style.height).replace("px","")!=i&&(e.style.height=i+"px"),e.getAttribute("width")&&e.getAttribute("width")!=t&&e.setAttribute("width",t),e.getAttribute("height")&&e.getAttribute("height")!=i&&e.setAttribute("height",i)},p.resize_iframe=function(e,t,i,n){try{for(var r=e.document.getElementsByTagName("iframe")||[],a=0;a<r.length;++a)try{if(r[a].contentDocument===t)return p.resize_element(r[a],i,n),void(e!==top&&p.resize_iframe(e.parent,e.document,i,n))}catch(e){}}catch(e){p.err("Error resizing window to "+i+"x"+n,e)}p.err("Failed to resize window to "+i+"x"+n)},p.url=function(){var t,i,n,r,a,e=top,o=window,s=document,d=!1;try{d=window.parent===window}catch(e){}try{t=e.location.host,i=e.location.pathname+e.location.search+e.location.hash,href=e.location.href,n=e.document.referrer,r=e.document.title,a=e.location.protocol}catch(e){try{t=(String(s.referrer).match(/^[^\/]+\/\/([^\/]+)/)||[]).pop(),i=(String(s.referrer).match(/^[^\/]+\/\/[^\/]+(\/.+)$/)||[]).pop(),a=(String(s.referrer).match(/^https?\:/)||[]).pop(),href=s.referrer,r=n=""}catch(e){}}return t&&i||(t=o.location.host,i=o.location.pathname+o.location.search+o.location.hash,a=o.location.protocol,href=o.location.href,n=s.referrer),{domain:t,page:i,href:href,referrer:n,title:r,is_top:d,protocol:a}},p.pixel=function(e){document.createElement("img").src=e+"&rnd="+Math.random()},p.pixelh=function(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+encodeURI(e)+'"></div>':""},p.pixelf=function(e,t,i){return e?(t&&(e=encodeURI(e)),"<iframe "+(i=i?'sandbox="'+i+'"':"")+' id="'+p.genID("IPF")+'" src="'+e+'" frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0p;width:0p;display:none;" scrolling="no"></iframe>'):""};var g,m=[],h={};p.uspf=p.wrapAsync(function(e,t){p.logl("px","UserSync qF",e,h[e],5,t),h[e]=(h[e]||0)+1,5<h[e]||m.push({a:e,t:"f",u:t})}),p.uspi=p.wrapAsync(function(e,t){p.logl("px","UserSync qI",e,h[e],5,t),h[e]=(h[e]||0)+1,5<h[e]||m.push({a:e,t:"i",u:t})});var _=!0,v=!0,b=500;p.cfusp=function(e,t,i){e||(_=!1),t||(v=!1),i&&(b=i),p.log("UserSync set: ",{image:_,iframe:v,delay:b})};var y=p.wrapAsync(function(){if(clearTimeout(g),m.length){var e=Math.floor(Math.random()*m.length),t=m[e];if(m.splice(e,1),v&&"f"==t.t){var i=document.createElement("div");i.innerHTML=p.pixelf(t.u,!1,"allow-scripts allow-same-origin"),document.body.appendChild(i.firstChild),p.log("UserSync (F): ",t.a,t.u)}else{if(!_||"i"!=t.t)return p.log("UserSync not sent (!): ",t),y();document.createElement("img").src=t.u,p.log("UserSync (I): ",t.a,t.u)}g=setTimeout(y,50)}});p.qdusp=function(){p.logl("px","UserSync Q",m,b,_,v,p.safari,p.cookies),!p.safari&&p.cookies&&(clearTimeout(g),g=setTimeout(y,b))};var w={};p.load=function(e,t,i,n){if(t=t?p.wrapAsync(t):function(){},i&&w[e])w[e].ready?t():w[e].cbs.push(t);else{i&&(w[e]||(w[e]={ready:!1,cbs:[t]}),t=function(){w[e].ready=!0,p.each(w[e].cbs,function(e){e()})});var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.readyState?r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||(r.onreadystatechange=null,t())}:r.onload=t,r.src=e;var a=n||(document.body||document.head);a.appendChild(r,a.firstChild)}},p.loadCached=function(e,t){p.load(e,t,!0)},p.iiframe=function(e){var t=document.createElement("iframe");return t.id=p.genID("IIF"),t.height=0,t.width=0,t.border="0px",t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.border="0",t.scrolling="no",t.frameBorder="0",t.src=void 0===e?"about:blank":e,t.style.display="none",t},p.prepend=function(e,t){return"string"==typeof t&&(t=document.createElement(t)),e.children.length?e.insertBefore(t,e.children[0]):e.appendChild(t),t};var x=!(p.isarr=function(e){return"[object Array]"===Object.prototype.toString.call(e)});p.isdebug=function(){return x},p.setdebug=function(e){e&&(x=e,document.cookie="adb_debug="+x+";path=/;domain=."+location.hostname.replace(/.*?([^.]+\.[^.]+)$/,"$1"))},p.setdebug(p.qs("adb_debug")||p.cr("adb_debug")),p.log=function(){if(x){var e=Array.prototype.slice.apply(arguments);e.unshift("AdBridg | "+p.dts().toFixed(2));try{console.log.apply(console,e)}catch(e){}}},p.logl=function(e){x==e&&p.log.apply(p,["log::",e].concat(Array.prototype.slice.apply(arguments,[1])))};var D=[];p.err=function(){var t=Array.prototype.slice.apply(arguments);if(x){var e=[].concat(t);e.unshift("AdBridg | "+p.dts().toFixed(2)+" | ERROR: ");try{console.log.apply(console,e)}catch(e){}}D.length&&p.each(D,function(e){e.apply(null,t)})};var z=!(p.onerr=function(e){D.push(e)}),A=[];p.onrec=function(e){for(z=e;A.length;)z(A.shift())},p.rec=function(e){z?z(e):A.push(e)},p.dom=p.wrapAsync(function(e,t,i,n,r){S.add(e,t,i,n,r)}),p.undom=p.wrapAsync(function(e,t){S.remove(e,t)});var S=new function(){var i,s={},d=0,c=[],n=!1,r=!1,u=!1;this.add=function(e,t,i,n,r){s[e]=s[e]||[],s[e].push({c:n,d:t,t:i,i:e,f:r}),d+=1,a()},this.remove=function(e,t){var i,n=s[e]||[];if(t)for(i=n.length-1;0<=i;--i)n[i].c===t&&s[e].splice(i,1);for(t&&n.length||delete s[e],i=c.length-1;0<=i;--i)t&&c[i].c!==t||c.splice(i,1)},f(window,"scroll",function(){u=!0,!i&&d&&(p.logl("lz","Lazy scroll wait",100),i=setTimeout(a,100))});var l=function(e,t){return e.f&&!e.f(e,t,u)?(p.logl("lz","Lazy blocked",e,u),!1):0<e.d&&e.d<1?t.v>e.d:t.d<e.d},a=p.thread(function(){var e=p.dts();if(clearTimeout(i),i=!1,n||e-r<50)i=setTimeout(a,50);else{var o;n=!0,r=e,p.logl("lz","Lazy measure",e),o=[],p.each(s,function(e,t){var i=p.where(t);if(!i)return p.logl("lz","Lazy no dom",t);for(var n=e.length-1;0<=n;--n){var r=e[n],a=l(r,i);p.logl("lz","Lazy check",JSON.stringify({el:t,coords:i,reqdist:r.d,criteria:a,seenscr:u})),a&&(d-=1,e.splice(n,1),c.push(r),p.logl("lz","Lazy to duration",t))}e.length||o.push(t)}),p.each(o,function(e){delete s[e]});var t=function(e){for(var t=!1,i=c.length-1;0<=i;--i){var n=c[i],r=n.i;if(p.logl("lz","Lazy check time",n,r," has scroll event: ",u),n.tx){if(!l(n,p.where(r))){p.logl("lz","Lazy back to distance",r),n.tx=0,c.splice(i,1),s[r]=s[r]||[],s[r].push(n),d+=1;continue}}else n.tx=e+n.t;var a=n.tx-e;a<=0?(p.logl("lz","Lazy execute",r),c.splice(i,1),p.thread(n.c)()):t=t?Math.min(a+1,t):a+1}return t}(e)||100;c.length&&(p.logl("lz","Lazy duration wait",t),i=setTimeout(a,t)),n=!1}})};p.where=function(e){var t=document.getElementById(e);if(!t)return!1;var i=t.getBoundingClientRect(),n=p.vp(),r=i.top,a=i.height,o=i.top+a,s="in_viewport",d=0,c=1;return r<0?(d=o<0?Math.abs(o):0,s=((c=0<o?o/a:0)?"partially_":"")+"above_viewport"):o>n.h&&(d=r>n.h?r-n.h:0,s=((c=r<n.h?(n.h-r)/a:0)?"partially_":"")+"below_viewport"),{p:s,d:d,v:c,c:{vp:n,t:r,h:a,b:o}}},p.assign=function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])}return i};var B=function(e){try{if(!e)return"no_dom_el";var t=window.getComputedStyle&&window.getComputedStyle(e)||{};if("none"==t.display)return"display_none";if("hidden"==t.visibility)return"vis_hidden"}catch(e){p.err("get_invis_fail")}return!1};p.dom_invisible=p.wrapAsync(function(e){var t=document.getElementById(e),i=B(t);if(i)return"el_"+i;for(var n=0;t.parentNode&&(t=t.parentNode)!==document.body;)if(n+=1,i=B(t))return"anc_"+n+"_"+i;return!1})},{}]},{},[14]);